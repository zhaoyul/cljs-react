{
"version":3,
"file":"module$node_modules$$firebase$functions$dist$index_cjs.js",
"lineCount":18,
"mappings":"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",
"sources":["node_modules/@firebase/functions/dist/index.cjs.js"],
"sourcesContent":["shadow$provide[\"module$node_modules$$firebase$functions$dist$index_cjs\"] = function(global,require,module,exports) {\n'use strict';\n\nfunction _interopDefault (ex) { return (ex && (typeof ex === 'object') && 'default' in ex) ? ex['default'] : ex; }\n\nvar firebase = _interopDefault(require('@firebase/app'));\nvar tslib = require('tslib');\nvar component = require('@firebase/component');\n\n/**\r\n * @license\r\n * Copyright 2017 Google LLC\r\n *\r\n * Licensed under the Apache License, Version 2.0 (the \"License\");\r\n * you may not use this file except in compliance with the License.\r\n * You may obtain a copy of the License at\r\n *\r\n *   http://www.apache.org/licenses/LICENSE-2.0\r\n *\r\n * Unless required by applicable law or agreed to in writing, software\r\n * distributed under the License is distributed on an \"AS IS\" BASIS,\r\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\r\n * See the License for the specific language governing permissions and\r\n * limitations under the License.\r\n */\r\n/**\r\n * Standard error codes for different ways a request can fail, as defined by:\r\n * https://github.com/googleapis/googleapis/blob/master/google/rpc/code.proto\r\n *\r\n * This map is used primarily to convert from a backend error code string to\r\n * a client SDK error code string, and make sure it's in the supported set.\r\n */\r\nvar errorCodeMap = {\r\n    OK: 'ok',\r\n    CANCELLED: 'cancelled',\r\n    UNKNOWN: 'unknown',\r\n    INVALID_ARGUMENT: 'invalid-argument',\r\n    DEADLINE_EXCEEDED: 'deadline-exceeded',\r\n    NOT_FOUND: 'not-found',\r\n    ALREADY_EXISTS: 'already-exists',\r\n    PERMISSION_DENIED: 'permission-denied',\r\n    UNAUTHENTICATED: 'unauthenticated',\r\n    RESOURCE_EXHAUSTED: 'resource-exhausted',\r\n    FAILED_PRECONDITION: 'failed-precondition',\r\n    ABORTED: 'aborted',\r\n    OUT_OF_RANGE: 'out-of-range',\r\n    UNIMPLEMENTED: 'unimplemented',\r\n    INTERNAL: 'internal',\r\n    UNAVAILABLE: 'unavailable',\r\n    DATA_LOSS: 'data-loss'\r\n};\r\n/**\r\n * An explicit error that can be thrown from a handler to send an error to the\r\n * client that called the function.\r\n */\r\nvar HttpsErrorImpl = /** @class */ (function (_super) {\r\n    tslib.__extends(HttpsErrorImpl, _super);\r\n    function HttpsErrorImpl(code, message, details) {\r\n        var _this = _super.call(this, message) || this;\r\n        // This is a workaround for a bug in TypeScript when extending Error:\r\n        // tslint:disable-next-line\r\n        // https://github.com/Microsoft/TypeScript-wiki/blob/master/Breaking-Changes.md#extending-built-ins-like-error-array-and-map-may-no-longer-work\r\n        Object.setPrototypeOf(_this, HttpsErrorImpl.prototype);\r\n        _this.code = code;\r\n        _this.details = details;\r\n        return _this;\r\n    }\r\n    return HttpsErrorImpl;\r\n}(Error));\r\n/**\r\n * Takes an HTTP status code and returns the corresponding ErrorCode.\r\n * This is the standard HTTP status code -> error mapping defined in:\r\n * https://github.com/googleapis/googleapis/blob/master/google/rpc/code.proto\r\n *\r\n * @param status An HTTP status code.\r\n * @return The corresponding ErrorCode, or ErrorCode.UNKNOWN if none.\r\n */\r\nfunction codeForHTTPStatus(status) {\r\n    // Make sure any successful status is OK.\r\n    if (status >= 200 && status < 300) {\r\n        return 'ok';\r\n    }\r\n    switch (status) {\r\n        case 0:\r\n            // This can happen if the server returns 500.\r\n            return 'internal';\r\n        case 400:\r\n            return 'invalid-argument';\r\n        case 401:\r\n            return 'unauthenticated';\r\n        case 403:\r\n            return 'permission-denied';\r\n        case 404:\r\n            return 'not-found';\r\n        case 409:\r\n            return 'aborted';\r\n        case 429:\r\n            return 'resource-exhausted';\r\n        case 499:\r\n            return 'cancelled';\r\n        case 500:\r\n            return 'internal';\r\n        case 501:\r\n            return 'unimplemented';\r\n        case 503:\r\n            return 'unavailable';\r\n        case 504:\r\n            return 'deadline-exceeded';\r\n    }\r\n    return 'unknown';\r\n}\r\n/**\r\n * Takes an HTTP response and returns the corresponding Error, if any.\r\n */\r\nfunction _errorForResponse(status, bodyJSON, serializer) {\r\n    var code = codeForHTTPStatus(status);\r\n    // Start with reasonable defaults from the status code.\r\n    var description = code;\r\n    var details = undefined;\r\n    // Then look through the body for explicit details.\r\n    try {\r\n        var errorJSON = bodyJSON && bodyJSON.error;\r\n        if (errorJSON) {\r\n            var status_1 = errorJSON.status;\r\n            if (typeof status_1 === 'string') {\r\n                if (!errorCodeMap[status_1]) {\r\n                    // They must've included an unknown error code in the body.\r\n                    return new HttpsErrorImpl('internal', 'internal');\r\n                }\r\n                code = errorCodeMap[status_1];\r\n                // TODO(klimt): Add better default descriptions for error enums.\r\n                // The default description needs to be updated for the new code.\r\n                description = status_1;\r\n            }\r\n            var message = errorJSON.message;\r\n            if (typeof message === 'string') {\r\n                description = message;\r\n            }\r\n            details = errorJSON.details;\r\n            if (details !== undefined) {\r\n                details = serializer.decode(details);\r\n            }\r\n        }\r\n    }\r\n    catch (e) {\r\n        // If we couldn't parse explicit error data, that's fine.\r\n    }\r\n    if (code === 'ok') {\r\n        // Technically, there's an edge case where a developer could explicitly\r\n        // return an error code of OK, and we will treat it as success, but that\r\n        // seems reasonable.\r\n        return null;\r\n    }\r\n    return new HttpsErrorImpl(code, description, details);\r\n}\n\n/**\r\n * Helper class to get metadata that should be included with a function call.\r\n */\r\nvar ContextProvider = /** @class */ (function () {\r\n    function ContextProvider(authProvider, messagingProvider) {\r\n        var _this = this;\r\n        this.auth = null;\r\n        this.messaging = null;\r\n        this.auth = authProvider.getImmediate({ optional: true });\r\n        this.messaging = messagingProvider.getImmediate({\r\n            optional: true\r\n        });\r\n        if (!this.auth) {\r\n            authProvider.get().then(function (auth) { return (_this.auth = auth); }, function () {\r\n                /* get() never rejects */\r\n            });\r\n        }\r\n        if (!this.messaging) {\r\n            messagingProvider.get().then(function (messaging) { return (_this.messaging = messaging); }, function () {\r\n                /* get() never rejects */\r\n            });\r\n        }\r\n    }\r\n    ContextProvider.prototype.getAuthToken = function () {\r\n        return tslib.__awaiter(this, void 0, void 0, function () {\r\n            var token, e_1;\r\n            return tslib.__generator(this, function (_a) {\r\n                switch (_a.label) {\r\n                    case 0:\r\n                        if (!this.auth) {\r\n                            return [2 /*return*/, undefined];\r\n                        }\r\n                        _a.label = 1;\r\n                    case 1:\r\n                        _a.trys.push([1, 3, , 4]);\r\n                        return [4 /*yield*/, this.auth.getToken()];\r\n                    case 2:\r\n                        token = _a.sent();\r\n                        if (!token) {\r\n                            return [2 /*return*/, undefined];\r\n                        }\r\n                        return [2 /*return*/, token.accessToken];\r\n                    case 3:\r\n                        e_1 = _a.sent();\r\n                        // If there's any error when trying to get the auth token, leave it off.\r\n                        return [2 /*return*/, undefined];\r\n                    case 4: return [2 /*return*/];\r\n                }\r\n            });\r\n        });\r\n    };\r\n    ContextProvider.prototype.getInstanceIdToken = function () {\r\n        return tslib.__awaiter(this, void 0, void 0, function () {\r\n            return tslib.__generator(this, function (_a) {\r\n                if (!this.messaging ||\r\n                    !('Notification' in self) ||\r\n                    Notification.permission !== 'granted') {\r\n                    return [2 /*return*/, undefined];\r\n                }\r\n                try {\r\n                    return [2 /*return*/, this.messaging.getToken()];\r\n                }\r\n                catch (e) {\r\n                    // We don't warn on this, because it usually means messaging isn't set up.\r\n                    // console.warn('Failed to retrieve instance id token.', e);\r\n                    // If there's any error when trying to get the token, leave it off.\r\n                    return [2 /*return*/, undefined];\r\n                }\r\n                return [2 /*return*/];\r\n            });\r\n        });\r\n    };\r\n    ContextProvider.prototype.getContext = function () {\r\n        return tslib.__awaiter(this, void 0, void 0, function () {\r\n            var authToken, instanceIdToken;\r\n            return tslib.__generator(this, function (_a) {\r\n                switch (_a.label) {\r\n                    case 0: return [4 /*yield*/, this.getAuthToken()];\r\n                    case 1:\r\n                        authToken = _a.sent();\r\n                        return [4 /*yield*/, this.getInstanceIdToken()];\r\n                    case 2:\r\n                        instanceIdToken = _a.sent();\r\n                        return [2 /*return*/, { authToken: authToken, instanceIdToken: instanceIdToken }];\r\n                }\r\n            });\r\n        });\r\n    };\r\n    return ContextProvider;\r\n}());\n\n/**\r\n * @license\r\n * Copyright 2017 Google LLC\r\n *\r\n * Licensed under the Apache License, Version 2.0 (the \"License\");\r\n * you may not use this file except in compliance with the License.\r\n * You may obtain a copy of the License at\r\n *\r\n *   http://www.apache.org/licenses/LICENSE-2.0\r\n *\r\n * Unless required by applicable law or agreed to in writing, software\r\n * distributed under the License is distributed on an \"AS IS\" BASIS,\r\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\r\n * See the License for the specific language governing permissions and\r\n * limitations under the License.\r\n */\r\nvar LONG_TYPE = 'type.googleapis.com/google.protobuf.Int64Value';\r\nvar UNSIGNED_LONG_TYPE = 'type.googleapis.com/google.protobuf.UInt64Value';\r\nfunction mapValues(\r\n// { [k: string]: unknown } is no longer a wildcard assignment target after typescript 3.5\r\n// eslint-disable-next-line @typescript-eslint/no-explicit-any\r\no, f) {\r\n    var result = {};\r\n    for (var key in o) {\r\n        if (o.hasOwnProperty(key)) {\r\n            result[key] = f(o[key]);\r\n        }\r\n    }\r\n    return result;\r\n}\r\nvar Serializer = /** @class */ (function () {\r\n    function Serializer() {\r\n    }\r\n    // Takes data and encodes it in a JSON-friendly way, such that types such as\r\n    // Date are preserved.\r\n    Serializer.prototype.encode = function (data) {\r\n        var _this = this;\r\n        if (data == null) {\r\n            return null;\r\n        }\r\n        if (data instanceof Number) {\r\n            data = data.valueOf();\r\n        }\r\n        if (typeof data === 'number' && isFinite(data)) {\r\n            // Any number in JS is safe to put directly in JSON and parse as a double\r\n            // without any loss of precision.\r\n            return data;\r\n        }\r\n        if (data === true || data === false) {\r\n            return data;\r\n        }\r\n        if (Object.prototype.toString.call(data) === '[object String]') {\r\n            return data;\r\n        }\r\n        if (Array.isArray(data)) {\r\n            return data.map(function (x) { return _this.encode(x); });\r\n        }\r\n        if (typeof data === 'function' || typeof data === 'object') {\r\n            return mapValues(data, function (x) { return _this.encode(x); });\r\n        }\r\n        // If we got this far, the data is not encodable.\r\n        throw new Error('Data cannot be encoded in JSON: ' + data);\r\n    };\r\n    // Takes data that's been encoded in a JSON-friendly form and returns a form\r\n    // with richer datatypes, such as Dates, etc.\r\n    Serializer.prototype.decode = function (json) {\r\n        var _this = this;\r\n        if (json == null) {\r\n            return json;\r\n        }\r\n        if (json['@type']) {\r\n            switch (json['@type']) {\r\n                case LONG_TYPE:\r\n                // Fall through and handle this the same as unsigned.\r\n                case UNSIGNED_LONG_TYPE: {\r\n                    // Technically, this could work return a valid number for malformed\r\n                    // data if there was a number followed by garbage. But it's just not\r\n                    // worth all the extra code to detect that case.\r\n                    var value = Number(json['value']);\r\n                    if (isNaN(value)) {\r\n                        throw new Error('Data cannot be decoded from JSON: ' + json);\r\n                    }\r\n                    return value;\r\n                }\r\n                default: {\r\n                    throw new Error('Data cannot be decoded from JSON: ' + json);\r\n                }\r\n            }\r\n        }\r\n        if (Array.isArray(json)) {\r\n            return json.map(function (x) { return _this.decode(x); });\r\n        }\r\n        if (typeof json === 'function' || typeof json === 'object') {\r\n            return mapValues(json, function (x) { return _this.decode(x); });\r\n        }\r\n        // Anything else is safe to return.\r\n        return json;\r\n    };\r\n    return Serializer;\r\n}());\n\n/**\r\n * @license\r\n * Copyright 2017 Google LLC\r\n *\r\n * Licensed under the Apache License, Version 2.0 (the \"License\");\r\n * you may not use this file except in compliance with the License.\r\n * You may obtain a copy of the License at\r\n *\r\n *   http://www.apache.org/licenses/LICENSE-2.0\r\n *\r\n * Unless required by applicable law or agreed to in writing, software\r\n * distributed under the License is distributed on an \"AS IS\" BASIS,\r\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\r\n * See the License for the specific language governing permissions and\r\n * limitations under the License.\r\n */\r\n/**\r\n * Returns a Promise that will be rejected after the given duration.\r\n * The error will be of type HttpsErrorImpl.\r\n *\r\n * @param millis Number of milliseconds to wait before rejecting.\r\n */\r\nfunction failAfter(millis) {\r\n    var timer;\r\n    var promise = new Promise(function (_, reject) {\r\n        timer = setTimeout(function () {\r\n            reject(new HttpsErrorImpl('deadline-exceeded', 'deadline-exceeded'));\r\n        }, millis);\r\n    });\r\n    return {\r\n        timer: timer,\r\n        promise: promise\r\n    };\r\n}\r\n/**\r\n * The main class for the Firebase Functions SDK.\r\n */\r\nvar Service = /** @class */ (function () {\r\n    /**\r\n     * Creates a new Functions service for the given app and (optional) region.\r\n     * @param app_ The FirebaseApp to use.\r\n     * @param region_ The region to call functions in.\r\n     */\r\n    function Service(app_, authProvider, messagingProvider, region_) {\r\n        var _this = this;\r\n        if (region_ === void 0) { region_ = 'us-central1'; }\r\n        this.app_ = app_;\r\n        this.region_ = region_;\r\n        this.serializer = new Serializer();\r\n        this.emulatorOrigin = null;\r\n        this.INTERNAL = {\r\n            delete: function () {\r\n                return _this.deleteService();\r\n            }\r\n        };\r\n        this.contextProvider = new ContextProvider(authProvider, messagingProvider);\r\n        // Cancels all ongoing requests when resolved.\r\n        this.cancelAllRequests = new Promise(function (resolve) {\r\n            _this.deleteService = function () {\r\n                return resolve();\r\n            };\r\n        });\r\n    }\r\n    Object.defineProperty(Service.prototype, \"app\", {\r\n        get: function () {\r\n            return this.app_;\r\n        },\r\n        enumerable: false,\r\n        configurable: true\r\n    });\r\n    /**\r\n     * Returns the URL for a callable with the given name.\r\n     * @param name The name of the callable.\r\n     */\r\n    Service.prototype._url = function (name) {\r\n        var projectId = this.app_.options.projectId;\r\n        var region = this.region_;\r\n        if (this.emulatorOrigin !== null) {\r\n            var origin_1 = this.emulatorOrigin;\r\n            return origin_1 + \"/\" + projectId + \"/\" + region + \"/\" + name;\r\n        }\r\n        return \"https://\" + region + \"-\" + projectId + \".cloudfunctions.net/\" + name;\r\n    };\r\n    /**\r\n     * Changes this instance to point to a Cloud Functions emulator running\r\n     * locally. See https://firebase.google.com/docs/functions/local-emulator\r\n     *\r\n     * @param origin The origin of the local emulator, such as\r\n     * \"http://localhost:5005\".\r\n     */\r\n    Service.prototype.useFunctionsEmulator = function (origin) {\r\n        this.emulatorOrigin = origin;\r\n    };\r\n    /**\r\n     * Returns a reference to the callable https trigger with the given name.\r\n     * @param name The name of the trigger.\r\n     */\r\n    Service.prototype.httpsCallable = function (name, options) {\r\n        var _this = this;\r\n        return function (data) {\r\n            return _this.call(name, data, options || {});\r\n        };\r\n    };\r\n    /**\r\n     * Does an HTTP POST and returns the completed response.\r\n     * @param url The url to post to.\r\n     * @param body The JSON body of the post.\r\n     * @param headers The HTTP headers to include in the request.\r\n     * @return A Promise that will succeed when the request finishes.\r\n     */\r\n    Service.prototype.postJSON = function (url, body, headers) {\r\n        return tslib.__awaiter(this, void 0, void 0, function () {\r\n            var response, e_1, json, e_2;\r\n            return tslib.__generator(this, function (_a) {\r\n                switch (_a.label) {\r\n                    case 0:\r\n                        headers.append('Content-Type', 'application/json');\r\n                        _a.label = 1;\r\n                    case 1:\r\n                        _a.trys.push([1, 3, , 4]);\r\n                        return [4 /*yield*/, fetch(url, {\r\n                                method: 'POST',\r\n                                body: JSON.stringify(body),\r\n                                headers: headers\r\n                            })];\r\n                    case 2:\r\n                        response = _a.sent();\r\n                        return [3 /*break*/, 4];\r\n                    case 3:\r\n                        e_1 = _a.sent();\r\n                        // This could be an unhandled error on the backend, or it could be a\r\n                        // network error. There's no way to know, since an unhandled error on the\r\n                        // backend will fail to set the proper CORS header, and thus will be\r\n                        // treated as a network error by fetch.\r\n                        return [2 /*return*/, {\r\n                                status: 0,\r\n                                json: null\r\n                            }];\r\n                    case 4:\r\n                        json = null;\r\n                        _a.label = 5;\r\n                    case 5:\r\n                        _a.trys.push([5, 7, , 8]);\r\n                        return [4 /*yield*/, response.json()];\r\n                    case 6:\r\n                        json = _a.sent();\r\n                        return [3 /*break*/, 8];\r\n                    case 7:\r\n                        e_2 = _a.sent();\r\n                        return [3 /*break*/, 8];\r\n                    case 8: return [2 /*return*/, {\r\n                            status: response.status,\r\n                            json: json\r\n                        }];\r\n                }\r\n            });\r\n        });\r\n    };\r\n    /**\r\n     * Calls a callable function asynchronously and returns the result.\r\n     * @param name The name of the callable trigger.\r\n     * @param data The data to pass as params to the function.s\r\n     */\r\n    Service.prototype.call = function (name, data, options) {\r\n        return tslib.__awaiter(this, void 0, void 0, function () {\r\n            var url, body, headers, context, timeout, _a, timer, failAfterPromise, response, error, responseData, decodedData;\r\n            return tslib.__generator(this, function (_b) {\r\n                switch (_b.label) {\r\n                    case 0:\r\n                        url = this._url(name);\r\n                        // Encode any special types, such as dates, in the input data.\r\n                        data = this.serializer.encode(data);\r\n                        body = { data: data };\r\n                        headers = new Headers();\r\n                        return [4 /*yield*/, this.contextProvider.getContext()];\r\n                    case 1:\r\n                        context = _b.sent();\r\n                        if (context.authToken) {\r\n                            headers.append('Authorization', 'Bearer ' + context.authToken);\r\n                        }\r\n                        if (context.instanceIdToken) {\r\n                            headers.append('Firebase-Instance-ID-Token', context.instanceIdToken);\r\n                        }\r\n                        timeout = options.timeout || 70000;\r\n                        _a = failAfter(timeout), timer = _a.timer, failAfterPromise = _a.promise;\r\n                        return [4 /*yield*/, Promise.race([\r\n                                clearTimeoutWrapper(timer, this.postJSON(url, body, headers)),\r\n                                failAfterPromise,\r\n                                clearTimeoutWrapper(timer, this.cancelAllRequests)\r\n                            ])];\r\n                    case 2:\r\n                        response = _b.sent();\r\n                        // If service was deleted, interrupted response throws an error.\r\n                        if (!response) {\r\n                            throw new HttpsErrorImpl('cancelled', 'Firebase Functions instance was deleted.');\r\n                        }\r\n                        error = _errorForResponse(response.status, response.json, this.serializer);\r\n                        if (error) {\r\n                            throw error;\r\n                        }\r\n                        if (!response.json) {\r\n                            throw new HttpsErrorImpl('internal', 'Response is not valid JSON object.');\r\n                        }\r\n                        responseData = response.json.data;\r\n                        // TODO(klimt): For right now, allow \"result\" instead of \"data\", for\r\n                        // backwards compatibility.\r\n                        if (typeof responseData === 'undefined') {\r\n                            responseData = response.json.result;\r\n                        }\r\n                        if (typeof responseData === 'undefined') {\r\n                            // Consider the response malformed.\r\n                            throw new HttpsErrorImpl('internal', 'Response is missing data field.');\r\n                        }\r\n                        decodedData = this.serializer.decode(responseData);\r\n                        return [2 /*return*/, { data: decodedData }];\r\n                }\r\n            });\r\n        });\r\n    };\r\n    return Service;\r\n}());\r\nfunction clearTimeoutWrapper(timer, promise) {\r\n    return tslib.__awaiter(this, void 0, void 0, function () {\r\n        var result;\r\n        return tslib.__generator(this, function (_a) {\r\n            switch (_a.label) {\r\n                case 0: return [4 /*yield*/, promise];\r\n                case 1:\r\n                    result = _a.sent();\r\n                    // eslint-disable-next-line @typescript-eslint/no-explicit-any\r\n                    clearTimeout(timer);\r\n                    return [2 /*return*/, result];\r\n            }\r\n        });\r\n    });\r\n}\n\n/**\r\n * @license\r\n * Copyright 2019 Google LLC\r\n *\r\n * Licensed under the Apache License, Version 2.0 (the \"License\");\r\n * you may not use this file except in compliance with the License.\r\n * You may obtain a copy of the License at\r\n *\r\n *   http://www.apache.org/licenses/LICENSE-2.0\r\n *\r\n * Unless required by applicable law or agreed to in writing, software\r\n * distributed under the License is distributed on an \"AS IS\" BASIS,\r\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\r\n * See the License for the specific language governing permissions and\r\n * limitations under the License.\r\n */\r\n/**\r\n * Type constant for Firebase Functions.\r\n */\r\nvar FUNCTIONS_TYPE = 'functions';\r\nfunction factory(container, region) {\r\n    // Dependencies\r\n    var app = container.getProvider('app').getImmediate();\r\n    var authProvider = container.getProvider('auth-internal');\r\n    var messagingProvider = container.getProvider('messaging');\r\n    // eslint-disable-next-line @typescript-eslint/no-explicit-any\r\n    return new Service(app, authProvider, messagingProvider, region);\r\n}\r\nfunction registerFunctions(instance) {\r\n    var namespaceExports = {\r\n        // no-inline\r\n        Functions: Service\r\n    };\r\n    instance.INTERNAL.registerComponent(new component.Component(FUNCTIONS_TYPE, factory, \"PUBLIC\" /* PUBLIC */)\r\n        .setServiceProps(namespaceExports)\r\n        .setMultipleInstances(true));\r\n}\n\nvar name = \"@firebase/functions\";\nvar version = \"0.4.50\";\n\n/**\r\n * @license\r\n * Copyright 2017 Google LLC\r\n *\r\n * Licensed under the Apache License, Version 2.0 (the \"License\");\r\n * you may not use this file except in compliance with the License.\r\n * You may obtain a copy of the License at\r\n *\r\n *   http://www.apache.org/licenses/LICENSE-2.0\r\n *\r\n * Unless required by applicable law or agreed to in writing, software\r\n * distributed under the License is distributed on an \"AS IS\" BASIS,\r\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\r\n * See the License for the specific language governing permissions and\r\n * limitations under the License.\r\n */\r\nregisterFunctions(firebase);\r\nfirebase.registerVersion(name, version);\n//# sourceMappingURL=index.cjs.js.map\n\n};"],
"names":["shadow$provide","global","require","module","exports","codeForHTTPStatus","status","mapValues","o","f","result","key","hasOwnProperty","failAfter","millis","timer","promise","Promise","_","reject","setTimeout","HttpsErrorImpl","clearTimeoutWrapper","tslib","__awaiter","__generator","_a","label","sent","clearTimeout","factory","container","region","app","getProvider","getImmediate","authProvider","messagingProvider","Service","firebase","_interopDefault","ex","component","errorCodeMap","OK","CANCELLED","UNKNOWN","INVALID_ARGUMENT","DEADLINE_EXCEEDED","NOT_FOUND","ALREADY_EXISTS","PERMISSION_DENIED","UNAUTHENTICATED","RESOURCE_EXHAUSTED","FAILED_PRECONDITION","ABORTED","OUT_OF_RANGE","UNIMPLEMENTED","INTERNAL","UNAVAILABLE","DATA_LOSS","_super","code","message","details","_this","call","Object","setPrototypeOf","prototype","__extends","Error","ContextProvider","messaging","auth","optional","get","then","getAuthToken","ContextProvider.prototype.getAuthToken","token","undefined","trys","push","getToken","accessToken","getInstanceIdToken","ContextProvider.prototype.getInstanceIdToken","self","Notification","permission","e","getContext","ContextProvider.prototype.getContext","authToken","instanceIdToken","Serializer","encode","Serializer.prototype.encode","data","Number","valueOf","isFinite","toString","Array","isArray","map","x","decode","Serializer.prototype.decode","json","LONG_TYPE","UNSIGNED_LONG_TYPE","value","isNaN","app_","region_","serializer","emulatorOrigin","delete","deleteService","contextProvider","cancelAllRequests","resolve","_this.deleteService","defineProperty","enumerable","configurable","_url","Service.prototype._url","name","projectId","options","useFunctionsEmulator","Service.prototype.useFunctionsEmulator","origin","httpsCallable","Service.prototype.httpsCallable","postJSON","Service.prototype.postJSON","url","body","headers","response","append","fetch","method","JSON","stringify","Service.prototype.call","context","timeout","failAfterPromise","error","responseData","decodedData","_b","Headers","race","description","errorJSON","bodyJSON","status_1","registerFunctions","instance","namespaceExports","Functions","registerComponent","Component","FUNCTIONS_TYPE","setServiceProps","setMultipleInstances","registerVersion","version"]
}
