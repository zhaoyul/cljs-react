{
"version":3,
"file":"module$node_modules$$firebase$performance$dist$index_cjs.js",
"lineCount":46,
"mappings":"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",
"sources":["node_modules/@firebase/performance/dist/index.cjs.js"],
"sourcesContent":["shadow$provide[\"module$node_modules$$firebase$performance$dist$index_cjs\"] = function(global,require,module,exports) {\n'use strict';\n\nObject.defineProperty(exports, '__esModule', { value: true });\n\nfunction _interopDefault (ex) { return (ex && (typeof ex === 'object') && 'default' in ex) ? ex['default'] : ex; }\n\nvar firebase = _interopDefault(require('@firebase/app'));\nrequire('@firebase/installations');\nvar tslib = require('tslib');\nvar util = require('@firebase/util');\nvar logger$1 = require('@firebase/logger');\nvar component = require('@firebase/component');\n\nvar name = \"@firebase/performance\";\nvar version = \"0.4.0\";\n\n/**\r\n * @license\r\n * Copyright 2017 Google LLC\r\n *\r\n * Licensed under the Apache License, Version 2.0 (the \"License\");\r\n * you may not use this file except in compliance with the License.\r\n * You may obtain a copy of the License at\r\n *\r\n *   http://www.apache.org/licenses/LICENSE-2.0\r\n *\r\n * Unless required by applicable law or agreed to in writing, software\r\n * distributed under the License is distributed on an \"AS IS\" BASIS,\r\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\r\n * See the License for the specific language governing permissions and\r\n * limitations under the License.\r\n */\r\nvar SDK_VERSION = version;\r\n/** The prefix for start User Timing marks used for creating Traces. */\r\nvar TRACE_START_MARK_PREFIX = 'FB-PERF-TRACE-START';\r\n/** The prefix for stop User Timing marks used for creating Traces. */\r\nvar TRACE_STOP_MARK_PREFIX = 'FB-PERF-TRACE-STOP';\r\n/** The prefix for User Timing measure used for creating Traces. */\r\nvar TRACE_MEASURE_PREFIX = 'FB-PERF-TRACE-MEASURE';\r\n/** The prefix for out of the box page load Trace name. */\r\nvar OOB_TRACE_PAGE_LOAD_PREFIX = '_wt_';\r\nvar FIRST_PAINT_COUNTER_NAME = '_fp';\r\nvar FIRST_CONTENTFUL_PAINT_COUNTER_NAME = '_fcp';\r\nvar FIRST_INPUT_DELAY_COUNTER_NAME = '_fid';\r\nvar CONFIG_LOCAL_STORAGE_KEY = '@firebase/performance/config';\r\nvar CONFIG_EXPIRY_LOCAL_STORAGE_KEY = '@firebase/performance/configexpire';\r\nvar SERVICE = 'performance';\r\nvar SERVICE_NAME = 'Performance';\n\n/**\r\n * @license\r\n * Copyright 2019 Google LLC\r\n *\r\n * Licensed under the Apache License, Version 2.0 (the \"License\");\r\n * you may not use this file except in compliance with the License.\r\n * You may obtain a copy of the License at\r\n *\r\n *   http://www.apache.org/licenses/LICENSE-2.0\r\n *\r\n * Unless required by applicable law or agreed to in writing, software\r\n * distributed under the License is distributed on an \"AS IS\" BASIS,\r\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\r\n * See the License for the specific language governing permissions and\r\n * limitations under the License.\r\n */\r\nvar _a;\r\nvar ERROR_DESCRIPTION_MAP = (_a = {},\r\n    _a[\"trace started\" /* TRACE_STARTED_BEFORE */] = 'Trace {$traceName} was started before.',\r\n    _a[\"trace stopped\" /* TRACE_STOPPED_BEFORE */] = 'Trace {$traceName} is not running.',\r\n    _a[\"no window\" /* NO_WINDOW */] = 'Window is not available.',\r\n    _a[\"no app id\" /* NO_APP_ID */] = 'App id is not available.',\r\n    _a[\"no project id\" /* NO_PROJECT_ID */] = 'Project id is not available.',\r\n    _a[\"no api key\" /* NO_API_KEY */] = 'Api key is not available.',\r\n    _a[\"invalid cc log\" /* INVALID_CC_LOG */] = 'Attempted to queue invalid cc event',\r\n    _a[\"FB not default\" /* FB_NOT_DEFAULT */] = 'Performance can only start when Firebase app instance is the default one.',\r\n    _a[\"RC response not ok\" /* RC_NOT_OK */] = 'RC response is not ok',\r\n    _a[\"invalid attribute name\" /* INVALID_ATTRIBUTE_NAME */] = 'Attribute name {$attributeName} is invalid.',\r\n    _a[\"invalid attribute value\" /* INVALID_ATTRIBUTE_VALUE */] = 'Attribute value {$attributeValue} is invalid.',\r\n    _a[\"invalid custom metric name\" /* INVALID_CUSTOM_METRIC_NAME */] = 'Custom metric name {$customMetricName} is invalid',\r\n    _a[\"invalid String merger input\" /* INVALID_STRING_MERGER_PARAMETER */] = 'Input for String merger is invalid, contact support team to resolve.',\r\n    _a);\r\nvar ERROR_FACTORY = new util.ErrorFactory(SERVICE, SERVICE_NAME, ERROR_DESCRIPTION_MAP);\n\n/**\r\n * @license\r\n * Copyright 2019 Google LLC\r\n *\r\n * Licensed under the Apache License, Version 2.0 (the \"License\");\r\n * you may not use this file except in compliance with the License.\r\n * You may obtain a copy of the License at\r\n *\r\n *   http://www.apache.org/licenses/LICENSE-2.0\r\n *\r\n * Unless required by applicable law or agreed to in writing, software\r\n * distributed under the License is distributed on an \"AS IS\" BASIS,\r\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\r\n * See the License for the specific language governing permissions and\r\n * limitations under the License.\r\n */\r\nvar consoleLogger = new logger$1.Logger(SERVICE_NAME);\r\nconsoleLogger.logLevel = logger$1.LogLevel.INFO;\n\n/**\r\n * @license\r\n * Copyright 2019 Google LLC\r\n *\r\n * Licensed under the Apache License, Version 2.0 (the \"License\");\r\n * you may not use this file except in compliance with the License.\r\n * You may obtain a copy of the License at\r\n *\r\n *   http://www.apache.org/licenses/LICENSE-2.0\r\n *\r\n * Unless required by applicable law or agreed to in writing, software\r\n * distributed under the License is distributed on an \"AS IS\" BASIS,\r\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\r\n * See the License for the specific language governing permissions and\r\n * limitations under the License.\r\n */\r\nvar apiInstance;\r\nvar windowInstance;\r\n/**\r\n * This class holds a reference to various browser related objects injected by\r\n * set methods.\r\n */\r\nvar Api = /** @class */ (function () {\r\n    function Api(window) {\r\n        this.window = window;\r\n        if (!window) {\r\n            throw ERROR_FACTORY.create(\"no window\" /* NO_WINDOW */);\r\n        }\r\n        this.performance = window.performance;\r\n        this.PerformanceObserver = window.PerformanceObserver;\r\n        this.windowLocation = window.location;\r\n        this.navigator = window.navigator;\r\n        this.document = window.document;\r\n        if (this.navigator && this.navigator.cookieEnabled) {\r\n            // If user blocks cookies on the browser, accessing localStorage will\r\n            // throw an exception.\r\n            this.localStorage = window.localStorage;\r\n        }\r\n        if (window.perfMetrics && window.perfMetrics.onFirstInputDelay) {\r\n            this.onFirstInputDelay = window.perfMetrics.onFirstInputDelay;\r\n        }\r\n    }\r\n    Api.prototype.getUrl = function () {\r\n        // Do not capture the string query part of url.\r\n        return this.windowLocation.href.split('?')[0];\r\n    };\r\n    Api.prototype.mark = function (name) {\r\n        if (!this.performance || !this.performance.mark) {\r\n            return;\r\n        }\r\n        this.performance.mark(name);\r\n    };\r\n    Api.prototype.measure = function (measureName, mark1, mark2) {\r\n        if (!this.performance || !this.performance.measure) {\r\n            return;\r\n        }\r\n        this.performance.measure(measureName, mark1, mark2);\r\n    };\r\n    Api.prototype.getEntriesByType = function (type) {\r\n        if (!this.performance || !this.performance.getEntriesByType) {\r\n            return [];\r\n        }\r\n        return this.performance.getEntriesByType(type);\r\n    };\r\n    Api.prototype.getEntriesByName = function (name) {\r\n        if (!this.performance || !this.performance.getEntriesByName) {\r\n            return [];\r\n        }\r\n        return this.performance.getEntriesByName(name);\r\n    };\r\n    Api.prototype.getTimeOrigin = function () {\r\n        // Polyfill the time origin with performance.timing.navigationStart.\r\n        return (this.performance &&\r\n            (this.performance.timeOrigin || this.performance.timing.navigationStart));\r\n    };\r\n    Api.prototype.requiredApisAvailable = function () {\r\n        if (!fetch ||\r\n            !Promise ||\r\n            !this.navigator ||\r\n            !this.navigator.cookieEnabled) {\r\n            consoleLogger.info('Firebase Performance cannot start if browser does not support fetch and Promise or cookie is disabled.');\r\n            return false;\r\n        }\r\n        if (!util.isIndexedDBAvailable()) {\r\n            consoleLogger.info('IndexedDB is not supported by current browswer');\r\n            return false;\r\n        }\r\n        return true;\r\n    };\r\n    Api.prototype.setupObserver = function (entryType, callback) {\r\n        if (!this.PerformanceObserver) {\r\n            return;\r\n        }\r\n        var observer = new this.PerformanceObserver(function (list) {\r\n            for (var _i = 0, _a = list.getEntries(); _i < _a.length; _i++) {\r\n                var entry = _a[_i];\r\n                // `entry` is a PerformanceEntry instance.\r\n                callback(entry);\r\n            }\r\n        });\r\n        // Start observing the entry types you care about.\r\n        observer.observe({ entryTypes: [entryType] });\r\n    };\r\n    Api.getInstance = function () {\r\n        if (apiInstance === undefined) {\r\n            apiInstance = new Api(windowInstance);\r\n        }\r\n        return apiInstance;\r\n    };\r\n    return Api;\r\n}());\r\nfunction setupApi(window) {\r\n    windowInstance = window;\r\n}\n\n/**\r\n * @license\r\n * Copyright 2019 Google LLC\r\n *\r\n * Licensed under the Apache License, Version 2.0 (the \"License\");\r\n * you may not use this file except in compliance with the License.\r\n * You may obtain a copy of the License at\r\n *\r\n *   http://www.apache.org/licenses/LICENSE-2.0\r\n *\r\n * Unless required by applicable law or agreed to in writing, software\r\n * distributed under the License is distributed on an \"AS IS\" BASIS,\r\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\r\n * See the License for the specific language governing permissions and\r\n * limitations under the License.\r\n */\r\nfunction mergeStrings(part1, part2) {\r\n    var sizeDiff = part1.length - part2.length;\r\n    if (sizeDiff < 0 || sizeDiff > 1) {\r\n        throw ERROR_FACTORY.create(\"invalid String merger input\" /* INVALID_STRING_MERGER_PARAMETER */);\r\n    }\r\n    var resultArray = [];\r\n    for (var i = 0; i < part1.length; i++) {\r\n        resultArray.push(part1.charAt(i));\r\n        if (part2.length > i) {\r\n            resultArray.push(part2.charAt(i));\r\n        }\r\n    }\r\n    return resultArray.join('');\r\n}\n\n/**\r\n * @license\r\n * Copyright 2019 Google LLC\r\n *\r\n * Licensed under the Apache License, Version 2.0 (the \"License\");\r\n * you may not use this file except in compliance with the License.\r\n * You may obtain a copy of the License at\r\n *\r\n *   http://www.apache.org/licenses/LICENSE-2.0\r\n *\r\n * Unless required by applicable law or agreed to in writing, software\r\n * distributed under the License is distributed on an \"AS IS\" BASIS,\r\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\r\n * See the License for the specific language governing permissions and\r\n * limitations under the License.\r\n */\r\nvar settingsServiceInstance;\r\nvar SettingsService = /** @class */ (function () {\r\n    function SettingsService() {\r\n        // The variable which controls logging of automatic traces and HTTP/S network monitoring.\r\n        this.instrumentationEnabled = true;\r\n        // The variable which controls logging of custom traces.\r\n        this.dataCollectionEnabled = true;\r\n        // Configuration flags set through remote config.\r\n        this.loggingEnabled = false;\r\n        // Sampling rate between 0 and 1.\r\n        this.tracesSamplingRate = 1;\r\n        this.networkRequestsSamplingRate = 1;\r\n        // Address of logging service.\r\n        this.logEndPointUrl = 'https://firebaselogging.googleapis.com/v0cc/log?format=json_proto';\r\n        // Performance event transport endpoint URL which should be compatible with proto3.\r\n        // New Address for transport service, not configurable via Remote Config.\r\n        this.flTransportEndpointUrl = mergeStrings('hts/frbslgigp.ogepscmv/ieo/eaylg', 'tp:/ieaeogn-agolai.o/1frlglgc/o');\r\n        this.transportKey = mergeStrings('AzSC8r6ReiGqFMyfvgow', 'Iayx0u-XT3vksVM-pIV');\r\n        // Source type for performance event logs.\r\n        this.logSource = 462;\r\n        // Flags which control per session logging of traces and network requests.\r\n        this.logTraceAfterSampling = false;\r\n        this.logNetworkAfterSampling = false;\r\n        // TTL of config retrieved from remote config in hours.\r\n        this.configTimeToLive = 12;\r\n    }\r\n    SettingsService.prototype.getAppId = function () {\r\n        var appId = this.firebaseAppInstance &&\r\n            this.firebaseAppInstance.options &&\r\n            this.firebaseAppInstance.options.appId;\r\n        if (!appId) {\r\n            throw ERROR_FACTORY.create(\"no app id\" /* NO_APP_ID */);\r\n        }\r\n        return appId;\r\n    };\r\n    SettingsService.prototype.getProjectId = function () {\r\n        var projectId = this.firebaseAppInstance &&\r\n            this.firebaseAppInstance.options &&\r\n            this.firebaseAppInstance.options.projectId;\r\n        if (!projectId) {\r\n            throw ERROR_FACTORY.create(\"no project id\" /* NO_PROJECT_ID */);\r\n        }\r\n        return projectId;\r\n    };\r\n    SettingsService.prototype.getApiKey = function () {\r\n        var apiKey = this.firebaseAppInstance &&\r\n            this.firebaseAppInstance.options &&\r\n            this.firebaseAppInstance.options.apiKey;\r\n        if (!apiKey) {\r\n            throw ERROR_FACTORY.create(\"no api key\" /* NO_API_KEY */);\r\n        }\r\n        return apiKey;\r\n    };\r\n    SettingsService.prototype.getFlTransportFullUrl = function () {\r\n        return this.flTransportEndpointUrl.concat('?key=', this.transportKey);\r\n    };\r\n    SettingsService.getInstance = function () {\r\n        if (settingsServiceInstance === undefined) {\r\n            settingsServiceInstance = new SettingsService();\r\n        }\r\n        return settingsServiceInstance;\r\n    };\r\n    return SettingsService;\r\n}());\n\n/**\r\n * @license\r\n * Copyright 2019 Google LLC\r\n *\r\n * Licensed under the Apache License, Version 2.0 (the \"License\");\r\n * you may not use this file except in compliance with the License.\r\n * You may obtain a copy of the License at\r\n *\r\n *   http://www.apache.org/licenses/LICENSE-2.0\r\n *\r\n * Unless required by applicable law or agreed to in writing, software\r\n * distributed under the License is distributed on an \"AS IS\" BASIS,\r\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\r\n * See the License for the specific language governing permissions and\r\n * limitations under the License.\r\n */\r\nvar iid;\r\nfunction getIidPromise() {\r\n    var iidPromise = SettingsService.getInstance().installationsService.getId();\r\n    // eslint-disable-next-line @typescript-eslint/no-floating-promises\r\n    iidPromise.then(function (iidVal) {\r\n        iid = iidVal;\r\n    });\r\n    return iidPromise;\r\n}\r\n// This method should be used after the iid is retrieved by getIidPromise method.\r\nfunction getIid() {\r\n    return iid;\r\n}\r\nfunction getAuthTokenPromise() {\r\n    var authTokenPromise = SettingsService.getInstance().installationsService.getToken();\r\n    // eslint-disable-next-line @typescript-eslint/no-floating-promises\r\n    authTokenPromise.then(function (authTokenVal) {\r\n    });\r\n    return authTokenPromise;\r\n}\n\n/**\r\n * @license\r\n * Copyright 2019 Google LLC\r\n *\r\n * Licensed under the Apache License, Version 2.0 (the \"License\");\r\n * you may not use this file except in compliance with the License.\r\n * You may obtain a copy of the License at\r\n *\r\n *   http://www.apache.org/licenses/LICENSE-2.0\r\n *\r\n * Unless required by applicable law or agreed to in writing, software\r\n * distributed under the License is distributed on an \"AS IS\" BASIS,\r\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\r\n * See the License for the specific language governing permissions and\r\n * limitations under the License.\r\n */\r\nvar VisibilityState;\r\n(function (VisibilityState) {\r\n    VisibilityState[VisibilityState[\"UNKNOWN\"] = 0] = \"UNKNOWN\";\r\n    VisibilityState[VisibilityState[\"VISIBLE\"] = 1] = \"VISIBLE\";\r\n    VisibilityState[VisibilityState[\"HIDDEN\"] = 2] = \"HIDDEN\";\r\n})(VisibilityState || (VisibilityState = {}));\r\nvar RESERVED_ATTRIBUTE_PREFIXES = ['firebase_', 'google_', 'ga_'];\r\nvar ATTRIBUTE_FORMAT_REGEX = new RegExp('^[a-zA-Z]\\\\w*$');\r\nvar MAX_ATTRIBUTE_NAME_LENGTH = 40;\r\nvar MAX_ATTRIBUTE_VALUE_LENGTH = 100;\r\nfunction getServiceWorkerStatus() {\r\n    var navigator = Api.getInstance().navigator;\r\n    if ('serviceWorker' in navigator) {\r\n        if (navigator.serviceWorker.controller) {\r\n            return 2 /* CONTROLLED */;\r\n        }\r\n        else {\r\n            return 3 /* UNCONTROLLED */;\r\n        }\r\n    }\r\n    else {\r\n        return 1 /* UNSUPPORTED */;\r\n    }\r\n}\r\nfunction getVisibilityState() {\r\n    var document = Api.getInstance().document;\r\n    var visibilityState = document.visibilityState;\r\n    switch (visibilityState) {\r\n        case 'visible':\r\n            return VisibilityState.VISIBLE;\r\n        case 'hidden':\r\n            return VisibilityState.HIDDEN;\r\n        default:\r\n            return VisibilityState.UNKNOWN;\r\n    }\r\n}\r\nfunction getEffectiveConnectionType() {\r\n    var navigator = Api.getInstance().navigator;\r\n    var navigatorConnection = navigator.connection;\r\n    var effectiveType = navigatorConnection && navigatorConnection.effectiveType;\r\n    switch (effectiveType) {\r\n        case 'slow-2g':\r\n            return 1 /* CONNECTION_SLOW_2G */;\r\n        case '2g':\r\n            return 2 /* CONNECTION_2G */;\r\n        case '3g':\r\n            return 3 /* CONNECTION_3G */;\r\n        case '4g':\r\n            return 4 /* CONNECTION_4G */;\r\n        default:\r\n            return 0 /* UNKNOWN */;\r\n    }\r\n}\r\nfunction isValidCustomAttributeName(name) {\r\n    if (name.length === 0 || name.length > MAX_ATTRIBUTE_NAME_LENGTH) {\r\n        return false;\r\n    }\r\n    var matchesReservedPrefix = RESERVED_ATTRIBUTE_PREFIXES.some(function (prefix) {\r\n        return name.startsWith(prefix);\r\n    });\r\n    return !matchesReservedPrefix && !!name.match(ATTRIBUTE_FORMAT_REGEX);\r\n}\r\nfunction isValidCustomAttributeValue(value) {\r\n    return value.length !== 0 && value.length <= MAX_ATTRIBUTE_VALUE_LENGTH;\r\n}\n\n/**\r\n * @license\r\n * Copyright 2019 Google LLC\r\n *\r\n * Licensed under the Apache License, Version 2.0 (the \"License\");\r\n * you may not use this file except in compliance with the License.\r\n * You may obtain a copy of the License at\r\n *\r\n *   http://www.apache.org/licenses/LICENSE-2.0\r\n *\r\n * Unless required by applicable law or agreed to in writing, software\r\n * distributed under the License is distributed on an \"AS IS\" BASIS,\r\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\r\n * See the License for the specific language governing permissions and\r\n * limitations under the License.\r\n */\r\nvar REMOTE_CONFIG_SDK_VERSION = '0.0.1';\r\n// These values will be used if the remote config object is successfully\r\n// retrieved, but the template does not have these fields.\r\nvar DEFAULT_CONFIGS = {\r\n    loggingEnabled: true\r\n};\r\nvar FIS_AUTH_PREFIX = 'FIREBASE_INSTALLATIONS_AUTH';\r\nfunction getConfig(iid) {\r\n    var config = getStoredConfig();\r\n    if (config) {\r\n        processConfig(config);\r\n        return Promise.resolve();\r\n    }\r\n    return getRemoteConfig(iid)\r\n        .then(processConfig)\r\n        .then(function (config) { return storeConfig(config); }, \r\n    /** Do nothing for error, use defaults set in settings service. */\r\n    function () { });\r\n}\r\nfunction getStoredConfig() {\r\n    var localStorage = Api.getInstance().localStorage;\r\n    if (!localStorage) {\r\n        return;\r\n    }\r\n    var expiryString = localStorage.getItem(CONFIG_EXPIRY_LOCAL_STORAGE_KEY);\r\n    if (!expiryString || !configValid(expiryString)) {\r\n        return;\r\n    }\r\n    var configStringified = localStorage.getItem(CONFIG_LOCAL_STORAGE_KEY);\r\n    if (!configStringified) {\r\n        return;\r\n    }\r\n    try {\r\n        var configResponse = JSON.parse(configStringified);\r\n        return configResponse;\r\n    }\r\n    catch (_a) {\r\n        return;\r\n    }\r\n}\r\nfunction storeConfig(config) {\r\n    var localStorage = Api.getInstance().localStorage;\r\n    if (!config || !localStorage) {\r\n        return;\r\n    }\r\n    localStorage.setItem(CONFIG_LOCAL_STORAGE_KEY, JSON.stringify(config));\r\n    localStorage.setItem(CONFIG_EXPIRY_LOCAL_STORAGE_KEY, String(Date.now() +\r\n        SettingsService.getInstance().configTimeToLive * 60 * 60 * 1000));\r\n}\r\nvar COULD_NOT_GET_CONFIG_MSG = 'Could not fetch config, will use default configs';\r\nfunction getRemoteConfig(iid) {\r\n    // Perf needs auth token only to retrieve remote config.\r\n    return getAuthTokenPromise()\r\n        .then(function (authToken) {\r\n        var projectId = SettingsService.getInstance().getProjectId();\r\n        var configEndPoint = \"https://firebaseremoteconfig.googleapis.com/v1/projects/\" + projectId + \"/namespaces/fireperf:fetch?key=\" + SettingsService.getInstance().getApiKey();\r\n        var request = new Request(configEndPoint, {\r\n            method: 'POST',\r\n            headers: { Authorization: FIS_AUTH_PREFIX + \" \" + authToken },\r\n            /* eslint-disable camelcase */\r\n            body: JSON.stringify({\r\n                app_instance_id: iid,\r\n                app_instance_id_token: authToken,\r\n                app_id: SettingsService.getInstance().getAppId(),\r\n                app_version: SDK_VERSION,\r\n                sdk_version: REMOTE_CONFIG_SDK_VERSION\r\n            })\r\n            /* eslint-enable camelcase */\r\n        });\r\n        return fetch(request).then(function (response) {\r\n            if (response.ok) {\r\n                return response.json();\r\n            }\r\n            // In case response is not ok. This will be caught by catch.\r\n            throw ERROR_FACTORY.create(\"RC response not ok\" /* RC_NOT_OK */);\r\n        });\r\n    })\r\n        .catch(function () {\r\n        consoleLogger.info(COULD_NOT_GET_CONFIG_MSG);\r\n        return undefined;\r\n    });\r\n}\r\n/**\r\n * Processes config coming either from calling RC or from local storage.\r\n * This method only runs if call is successful or config in storage\r\n * is valid.\r\n */\r\nfunction processConfig(config) {\r\n    if (!config) {\r\n        return config;\r\n    }\r\n    var settingsServiceInstance = SettingsService.getInstance();\r\n    var entries = config.entries || {};\r\n    if (entries.fpr_enabled !== undefined) {\r\n        // TODO: Change the assignment of loggingEnabled once the received type is\r\n        // known.\r\n        settingsServiceInstance.loggingEnabled =\r\n            String(entries.fpr_enabled) === 'true';\r\n    }\r\n    else {\r\n        // Config retrieved successfully, but there is no fpr_enabled in template.\r\n        // Use secondary configs value.\r\n        settingsServiceInstance.loggingEnabled = DEFAULT_CONFIGS.loggingEnabled;\r\n    }\r\n    if (entries.fpr_log_source) {\r\n        settingsServiceInstance.logSource = Number(entries.fpr_log_source);\r\n    }\r\n    if (entries.fpr_log_endpoint_url) {\r\n        settingsServiceInstance.logEndPointUrl = entries.fpr_log_endpoint_url;\r\n    }\r\n    // Key from Remote Config has to be non-empty string, otherwsie use local value.\r\n    if (entries.fpr_log_transport_key) {\r\n        settingsServiceInstance.transportKey = entries.fpr_log_transport_key;\r\n    }\r\n    if (entries.fpr_vc_network_request_sampling_rate !== undefined) {\r\n        settingsServiceInstance.networkRequestsSamplingRate = Number(entries.fpr_vc_network_request_sampling_rate);\r\n    }\r\n    if (entries.fpr_vc_trace_sampling_rate !== undefined) {\r\n        settingsServiceInstance.tracesSamplingRate = Number(entries.fpr_vc_trace_sampling_rate);\r\n    }\r\n    // Set the per session trace and network logging flags.\r\n    settingsServiceInstance.logTraceAfterSampling = shouldLogAfterSampling(settingsServiceInstance.tracesSamplingRate);\r\n    settingsServiceInstance.logNetworkAfterSampling = shouldLogAfterSampling(settingsServiceInstance.networkRequestsSamplingRate);\r\n    return config;\r\n}\r\nfunction configValid(expiry) {\r\n    return Number(expiry) > Date.now();\r\n}\r\nfunction shouldLogAfterSampling(samplingRate) {\r\n    return Math.random() <= samplingRate;\r\n}\n\n/**\r\n * @license\r\n * Copyright 2019 Google LLC\r\n *\r\n * Licensed under the Apache License, Version 2.0 (the \"License\");\r\n * you may not use this file except in compliance with the License.\r\n * You may obtain a copy of the License at\r\n *\r\n *   http://www.apache.org/licenses/LICENSE-2.0\r\n *\r\n * Unless required by applicable law or agreed to in writing, software\r\n * distributed under the License is distributed on an \"AS IS\" BASIS,\r\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\r\n * See the License for the specific language governing permissions and\r\n * limitations under the License.\r\n */\r\nvar initializationStatus = 1 /* notInitialized */;\r\nvar initializationPromise;\r\nfunction getInitializationPromise() {\r\n    initializationStatus = 2 /* initializationPending */;\r\n    initializationPromise = initializationPromise || initializePerf();\r\n    return initializationPromise;\r\n}\r\nfunction isPerfInitialized() {\r\n    return initializationStatus === 3 /* initialized */;\r\n}\r\nfunction initializePerf() {\r\n    return getDocumentReadyComplete()\r\n        .then(function () { return getIidPromise(); })\r\n        .then(function (iid) { return getConfig(iid); })\r\n        .then(function () { return changeInitializationStatus(); }, function () { return changeInitializationStatus(); });\r\n}\r\n/**\r\n * Returns a promise which resolves whenever the document readystate is complete or\r\n * immediately if it is called after page load complete.\r\n */\r\nfunction getDocumentReadyComplete() {\r\n    var document = Api.getInstance().document;\r\n    return new Promise(function (resolve) {\r\n        if (document && document.readyState !== 'complete') {\r\n            var handler_1 = function () {\r\n                if (document.readyState === 'complete') {\r\n                    document.removeEventListener('readystatechange', handler_1);\r\n                    resolve();\r\n                }\r\n            };\r\n            document.addEventListener('readystatechange', handler_1);\r\n        }\r\n        else {\r\n            resolve();\r\n        }\r\n    });\r\n}\r\nfunction changeInitializationStatus() {\r\n    initializationStatus = 3 /* initialized */;\r\n}\n\n/**\r\n * @license\r\n * Copyright 2019 Google LLC\r\n *\r\n * Licensed under the Apache License, Version 2.0 (the \"License\");\r\n * you may not use this file except in compliance with the License.\r\n * You may obtain a copy of the License at\r\n *\r\n *   http://www.apache.org/licenses/LICENSE-2.0\r\n *\r\n * Unless required by applicable law or agreed to in writing, software\r\n * distributed under the License is distributed on an \"AS IS\" BASIS,\r\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\r\n * See the License for the specific language governing permissions and\r\n * limitations under the License.\r\n */\r\nvar DEFAULT_SEND_INTERVAL_MS = 10 * 1000;\r\nvar INITIAL_SEND_TIME_DELAY_MS = 5.5 * 1000;\r\n// If end point does not work, the call will be tried for these many times.\r\nvar DEFAULT_REMAINING_TRIES = 3;\r\nvar remainingTries = DEFAULT_REMAINING_TRIES;\r\n/* eslint-enable camelcase */\r\nvar queue = [];\r\nvar isTransportSetup = false;\r\nfunction setupTransportService() {\r\n    if (!isTransportSetup) {\r\n        processQueue(INITIAL_SEND_TIME_DELAY_MS);\r\n        isTransportSetup = true;\r\n    }\r\n}\r\nfunction processQueue(timeOffset) {\r\n    setTimeout(function () {\r\n        // If there is no remainingTries left, stop retrying.\r\n        if (remainingTries === 0) {\r\n            return;\r\n        }\r\n        // If there are no events to process, wait for DEFAULT_SEND_INTERVAL_MS and try again.\r\n        if (!queue.length) {\r\n            return processQueue(DEFAULT_SEND_INTERVAL_MS);\r\n        }\r\n        dispatchQueueEvents();\r\n    }, timeOffset);\r\n}\r\nfunction dispatchQueueEvents() {\r\n    // Capture a snapshot of the queue and empty the \"official queue\".\r\n    var staged = tslib.__spreadArrays(queue);\r\n    queue = [];\r\n    /* eslint-disable camelcase */\r\n    // We will pass the JSON serialized event to the backend.\r\n    var log_event = staged.map(function (evt) { return ({\r\n        source_extension_json_proto3: evt.message,\r\n        event_time_ms: String(evt.eventTime)\r\n    }); });\r\n    var data = {\r\n        request_time_ms: String(Date.now()),\r\n        client_info: {\r\n            client_type: 1,\r\n            js_client_info: {}\r\n        },\r\n        log_source: SettingsService.getInstance().logSource,\r\n        log_event: log_event\r\n    };\r\n    /* eslint-enable camelcase */\r\n    sendEventsToFl(data, staged).catch(function () {\r\n        // If the request fails for some reason, add the events that were attempted\r\n        // back to the primary queue to retry later.\r\n        queue = tslib.__spreadArrays(staged, queue);\r\n        remainingTries--;\r\n        consoleLogger.info(\"Tries left: \" + remainingTries + \".\");\r\n        processQueue(DEFAULT_SEND_INTERVAL_MS);\r\n    });\r\n}\r\nfunction sendEventsToFl(data, staged) {\r\n    return postToFlEndpoint(data)\r\n        .then(function (res) {\r\n        if (!res.ok) {\r\n            consoleLogger.info('Call to Firebase backend failed.');\r\n        }\r\n        return res.json();\r\n    })\r\n        .then(function (res) {\r\n        // Find the next call wait time from the response.\r\n        var transportWait = Number(res.nextRequestWaitMillis);\r\n        var requestOffset = DEFAULT_SEND_INTERVAL_MS;\r\n        if (!isNaN(transportWait)) {\r\n            requestOffset = Math.max(transportWait, requestOffset);\r\n        }\r\n        // Delete request if response include RESPONSE_ACTION_UNKNOWN or DELETE_REQUEST action.\r\n        // Otherwise, retry request using normal scheduling if response include RETRY_REQUEST_LATER.\r\n        var logResponseDetails = res.logResponseDetails;\r\n        if (Array.isArray(logResponseDetails) &&\r\n            logResponseDetails.length > 0 &&\r\n            logResponseDetails[0].responseAction === 'RETRY_REQUEST_LATER') {\r\n            queue = tslib.__spreadArrays(staged, queue);\r\n            consoleLogger.info(\"Retry transport request later.\");\r\n        }\r\n        remainingTries = DEFAULT_REMAINING_TRIES;\r\n        // Schedule the next process.\r\n        processQueue(requestOffset);\r\n    });\r\n}\r\nfunction postToFlEndpoint(data) {\r\n    var flTransportFullUrl = SettingsService.getInstance().getFlTransportFullUrl();\r\n    return fetch(flTransportFullUrl, {\r\n        method: 'POST',\r\n        body: JSON.stringify(data)\r\n    });\r\n}\r\nfunction addToQueue(evt) {\r\n    if (!evt.eventTime || !evt.message) {\r\n        throw ERROR_FACTORY.create(\"invalid cc log\" /* INVALID_CC_LOG */);\r\n    }\r\n    // Add the new event to the queue.\r\n    queue = tslib.__spreadArrays(queue, [evt]);\r\n}\r\n/** Log handler for cc service to send the performance logs to the server. */\r\nfunction transportHandler(\r\n// eslint-disable-next-line @typescript-eslint/no-explicit-any\r\nserializer) {\r\n    return function () {\r\n        var args = [];\r\n        for (var _i = 0; _i < arguments.length; _i++) {\r\n            args[_i] = arguments[_i];\r\n        }\r\n        var message = serializer.apply(void 0, args);\r\n        addToQueue({\r\n            message: message,\r\n            eventTime: Date.now()\r\n        });\r\n    };\r\n}\n\n/**\r\n * @license\r\n * Copyright 2019 Google LLC\r\n *\r\n * Licensed under the Apache License, Version 2.0 (the \"License\");\r\n * you may not use this file except in compliance with the License.\r\n * You may obtain a copy of the License at\r\n *\r\n *   http://www.apache.org/licenses/LICENSE-2.0\r\n *\r\n * Unless required by applicable law or agreed to in writing, software\r\n * distributed under the License is distributed on an \"AS IS\" BASIS,\r\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\r\n * See the License for the specific language governing permissions and\r\n * limitations under the License.\r\n */\r\n/* eslint-enble camelcase */\r\nvar logger;\r\n// This method is not called before initialization.\r\nfunction sendLog(resource, resourceType) {\r\n    if (!logger) {\r\n        logger = transportHandler(serializer);\r\n    }\r\n    logger(resource, resourceType);\r\n}\r\nfunction logTrace(trace) {\r\n    var settingsService = SettingsService.getInstance();\r\n    // Do not log if trace is auto generated and instrumentation is disabled.\r\n    if (!settingsService.instrumentationEnabled && trace.isAuto) {\r\n        return;\r\n    }\r\n    // Do not log if trace is custom and data collection is disabled.\r\n    if (!settingsService.dataCollectionEnabled && !trace.isAuto) {\r\n        return;\r\n    }\r\n    // Do not log if required apis are not available.\r\n    if (!Api.getInstance().requiredApisAvailable()) {\r\n        return;\r\n    }\r\n    // Only log the page load auto traces if page is visible.\r\n    if (trace.isAuto && getVisibilityState() !== VisibilityState.VISIBLE) {\r\n        return;\r\n    }\r\n    if (!settingsService.loggingEnabled ||\r\n        !settingsService.logTraceAfterSampling) {\r\n        return;\r\n    }\r\n    if (isPerfInitialized()) {\r\n        sendTraceLog(trace);\r\n    }\r\n    else {\r\n        // Custom traces can be used before the initialization but logging\r\n        // should wait until after.\r\n        getInitializationPromise().then(function () { return sendTraceLog(trace); }, function () { return sendTraceLog(trace); });\r\n    }\r\n}\r\nfunction sendTraceLog(trace) {\r\n    if (getIid()) {\r\n        setTimeout(function () { return sendLog(trace, 1 /* Trace */); }, 0);\r\n    }\r\n}\r\nfunction logNetworkRequest(networkRequest) {\r\n    var settingsService = SettingsService.getInstance();\r\n    // Do not log network requests if instrumentation is disabled.\r\n    if (!settingsService.instrumentationEnabled) {\r\n        return;\r\n    }\r\n    // Do not log the js sdk's call to transport service domain to avoid unnecessary cycle.\r\n    // Need to blacklist both old and new endpoints to avoid migration gap.\r\n    var networkRequestUrl = networkRequest.url;\r\n    // Blacklist old log endpoint and new transport endpoint.\r\n    // Because Performance SDK doesn't instrument requests sent from SDK itself.\r\n    var logEndpointUrl = settingsService.logEndPointUrl.split('?')[0];\r\n    var flEndpointUrl = settingsService.flTransportEndpointUrl.split('?')[0];\r\n    if (networkRequestUrl === logEndpointUrl ||\r\n        networkRequestUrl === flEndpointUrl) {\r\n        return;\r\n    }\r\n    if (!settingsService.loggingEnabled ||\r\n        !settingsService.logNetworkAfterSampling) {\r\n        return;\r\n    }\r\n    setTimeout(function () { return sendLog(networkRequest, 0 /* NetworkRequest */); }, 0);\r\n}\r\nfunction serializer(resource, resourceType) {\r\n    if (resourceType === 0 /* NetworkRequest */) {\r\n        return serializeNetworkRequest(resource);\r\n    }\r\n    return serializeTrace(resource);\r\n}\r\nfunction serializeNetworkRequest(networkRequest) {\r\n    var networkRequestMetric = {\r\n        url: networkRequest.url,\r\n        http_method: networkRequest.httpMethod || 0,\r\n        http_response_code: 200,\r\n        response_payload_bytes: networkRequest.responsePayloadBytes,\r\n        client_start_time_us: networkRequest.startTimeUs,\r\n        time_to_response_initiated_us: networkRequest.timeToResponseInitiatedUs,\r\n        time_to_response_completed_us: networkRequest.timeToResponseCompletedUs\r\n    };\r\n    var perfMetric = {\r\n        application_info: getApplicationInfo(),\r\n        network_request_metric: networkRequestMetric\r\n    };\r\n    return JSON.stringify(perfMetric);\r\n}\r\nfunction serializeTrace(trace) {\r\n    var traceMetric = {\r\n        name: trace.name,\r\n        is_auto: trace.isAuto,\r\n        client_start_time_us: trace.startTimeUs,\r\n        duration_us: trace.durationUs\r\n    };\r\n    if (Object.keys(trace.counters).length !== 0) {\r\n        traceMetric.counters = trace.counters;\r\n    }\r\n    var customAttributes = trace.getAttributes();\r\n    if (Object.keys(customAttributes).length !== 0) {\r\n        traceMetric.custom_attributes = customAttributes;\r\n    }\r\n    var perfMetric = {\r\n        application_info: getApplicationInfo(),\r\n        trace_metric: traceMetric\r\n    };\r\n    return JSON.stringify(perfMetric);\r\n}\r\nfunction getApplicationInfo() {\r\n    return {\r\n        google_app_id: SettingsService.getInstance().getAppId(),\r\n        app_instance_id: getIid(),\r\n        web_app_info: {\r\n            sdk_version: SDK_VERSION,\r\n            page_url: Api.getInstance().getUrl(),\r\n            service_worker_status: getServiceWorkerStatus(),\r\n            visibility_state: getVisibilityState(),\r\n            effective_connection_type: getEffectiveConnectionType()\r\n        },\r\n        application_process_state: 0\r\n    };\r\n}\n\n/**\r\n * @license\r\n * Copyright 2019 Google LLC\r\n *\r\n * Licensed under the Apache License, Version 2.0 (the \"License\");\r\n * you may not use this file except in compliance with the License.\r\n * You may obtain a copy of the License at\r\n *\r\n *   http://www.apache.org/licenses/LICENSE-2.0\r\n *\r\n * Unless required by applicable law or agreed to in writing, software\r\n * distributed under the License is distributed on an \"AS IS\" BASIS,\r\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\r\n * See the License for the specific language governing permissions and\r\n * limitations under the License.\r\n */\r\nvar MAX_METRIC_NAME_LENGTH = 100;\r\nvar RESERVED_AUTO_PREFIX = '_';\r\nvar oobMetrics = [\r\n    FIRST_PAINT_COUNTER_NAME,\r\n    FIRST_CONTENTFUL_PAINT_COUNTER_NAME,\r\n    FIRST_INPUT_DELAY_COUNTER_NAME\r\n];\r\n/**\r\n * Returns true if the metric is custom and does not start with reserved prefix, or if\r\n * the metric is one of out of the box page load trace metrics.\r\n */\r\nfunction isValidMetricName(name, traceName) {\r\n    if (name.length === 0 || name.length > MAX_METRIC_NAME_LENGTH) {\r\n        return false;\r\n    }\r\n    return ((traceName &&\r\n        traceName.startsWith(OOB_TRACE_PAGE_LOAD_PREFIX) &&\r\n        oobMetrics.indexOf(name) > -1) ||\r\n        !name.startsWith(RESERVED_AUTO_PREFIX));\r\n}\r\n/**\r\n * Converts the provided value to an integer value to be used in case of a metric.\r\n * @param providedValue Provided number value of the metric that needs to be converted to an integer.\r\n *\r\n * @returns Converted integer number to be set for the metric.\r\n */\r\nfunction convertMetricValueToInteger(providedValue) {\r\n    var valueAsInteger = Math.floor(providedValue);\r\n    if (valueAsInteger < providedValue) {\r\n        consoleLogger.info(\"Metric value should be an Integer, setting the value as : \" + valueAsInteger + \".\");\r\n    }\r\n    return valueAsInteger;\r\n}\n\n/**\r\n * @license\r\n * Copyright 2019 Google LLC\r\n *\r\n * Licensed under the Apache License, Version 2.0 (the \"License\");\r\n * you may not use this file except in compliance with the License.\r\n * You may obtain a copy of the License at\r\n *\r\n *   http://www.apache.org/licenses/LICENSE-2.0\r\n *\r\n * Unless required by applicable law or agreed to in writing, software\r\n * distributed under the License is distributed on an \"AS IS\" BASIS,\r\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\r\n * See the License for the specific language governing permissions and\r\n * limitations under the License.\r\n */\r\nvar Trace = /** @class */ (function () {\r\n    /**\r\n     * @param name The name of the trace.\r\n     * @param isAuto If the trace is auto-instrumented.\r\n     * @param traceMeasureName The name of the measure marker in user timing specification. This field\r\n     * is only set when the trace is built for logging when the user directly uses the user timing\r\n     * api (performance.mark and performance.measure).\r\n     */\r\n    function Trace(name, isAuto, traceMeasureName) {\r\n        if (isAuto === void 0) { isAuto = false; }\r\n        this.name = name;\r\n        this.isAuto = isAuto;\r\n        this.state = 1 /* UNINITIALIZED */;\r\n        this.customAttributes = {};\r\n        this.counters = {};\r\n        this.api = Api.getInstance();\r\n        this.randomId = Math.floor(Math.random() * 1000000);\r\n        if (!this.isAuto) {\r\n            this.traceStartMark = TRACE_START_MARK_PREFIX + \"-\" + this.randomId + \"-\" + this.name;\r\n            this.traceStopMark = TRACE_STOP_MARK_PREFIX + \"-\" + this.randomId + \"-\" + this.name;\r\n            this.traceMeasure =\r\n                traceMeasureName ||\r\n                    TRACE_MEASURE_PREFIX + \"-\" + this.randomId + \"-\" + this.name;\r\n            if (traceMeasureName) {\r\n                // For the case of direct user timing traces, no start stop will happen. The measure object\r\n                // is already available.\r\n                this.calculateTraceMetrics();\r\n            }\r\n        }\r\n    }\r\n    /**\r\n     * Starts a trace. The measurement of the duration starts at this point.\r\n     */\r\n    Trace.prototype.start = function () {\r\n        if (this.state !== 1 /* UNINITIALIZED */) {\r\n            throw ERROR_FACTORY.create(\"trace started\" /* TRACE_STARTED_BEFORE */, {\r\n                traceName: this.name\r\n            });\r\n        }\r\n        this.api.mark(this.traceStartMark);\r\n        this.state = 2 /* RUNNING */;\r\n    };\r\n    /**\r\n     * Stops the trace. The measurement of the duration of the trace stops at this point and trace\r\n     * is logged.\r\n     */\r\n    Trace.prototype.stop = function () {\r\n        if (this.state !== 2 /* RUNNING */) {\r\n            throw ERROR_FACTORY.create(\"trace stopped\" /* TRACE_STOPPED_BEFORE */, {\r\n                traceName: this.name\r\n            });\r\n        }\r\n        this.state = 3 /* TERMINATED */;\r\n        this.api.mark(this.traceStopMark);\r\n        this.api.measure(this.traceMeasure, this.traceStartMark, this.traceStopMark);\r\n        this.calculateTraceMetrics();\r\n        logTrace(this);\r\n    };\r\n    /**\r\n     * Records a trace with predetermined values. If this method is used a trace is created and logged\r\n     * directly. No need to use start and stop methods.\r\n     * @param startTime Trace start time since epoch in millisec\r\n     * @param duration The duraction of the trace in millisec\r\n     * @param options An object which can optionally hold maps of custom metrics and custom attributes\r\n     */\r\n    Trace.prototype.record = function (startTime, duration, options) {\r\n        this.durationUs = Math.floor(duration * 1000);\r\n        this.startTimeUs = Math.floor(startTime * 1000);\r\n        if (options && options.attributes) {\r\n            this.customAttributes = tslib.__assign({}, options.attributes);\r\n        }\r\n        if (options && options.metrics) {\r\n            for (var _i = 0, _a = Object.keys(options.metrics); _i < _a.length; _i++) {\r\n                var metric = _a[_i];\r\n                if (!isNaN(Number(options.metrics[metric]))) {\r\n                    this.counters[metric] = Number(Math.floor(options.metrics[metric]));\r\n                }\r\n            }\r\n        }\r\n        logTrace(this);\r\n    };\r\n    /**\r\n     * Increments a custom metric by a certain number or 1 if number not specified. Will create a new\r\n     * custom metric if one with the given name does not exist. The value will be floored down to an\r\n     * integer.\r\n     * @param counter Name of the custom metric\r\n     * @param numAsInteger Increment by value\r\n     */\r\n    Trace.prototype.incrementMetric = function (counter, numAsInteger) {\r\n        if (numAsInteger === void 0) { numAsInteger = 1; }\r\n        if (this.counters[counter] === undefined) {\r\n            this.putMetric(counter, numAsInteger);\r\n        }\r\n        else {\r\n            this.putMetric(counter, this.counters[counter] + numAsInteger);\r\n        }\r\n    };\r\n    /**\r\n     * Sets a custom metric to a specified value. Will create a new custom metric if one with the\r\n     * given name does not exist. The value will be floored down to an integer.\r\n     * @param counter Name of the custom metric\r\n     * @param numAsInteger Set custom metric to this value\r\n     */\r\n    Trace.prototype.putMetric = function (counter, numAsInteger) {\r\n        if (isValidMetricName(counter, this.name)) {\r\n            this.counters[counter] = convertMetricValueToInteger(numAsInteger);\r\n        }\r\n        else {\r\n            throw ERROR_FACTORY.create(\"invalid custom metric name\" /* INVALID_CUSTOM_METRIC_NAME */, {\r\n                customMetricName: counter\r\n            });\r\n        }\r\n    };\r\n    /**\r\n     * Returns the value of the custom metric by that name. If a custom metric with that name does\r\n     * not exist will return zero.\r\n     * @param counter\r\n     */\r\n    Trace.prototype.getMetric = function (counter) {\r\n        return this.counters[counter] || 0;\r\n    };\r\n    /**\r\n     * Sets a custom attribute of a trace to a certain value.\r\n     * @param attr\r\n     * @param value\r\n     */\r\n    Trace.prototype.putAttribute = function (attr, value) {\r\n        var isValidName = isValidCustomAttributeName(attr);\r\n        var isValidValue = isValidCustomAttributeValue(value);\r\n        if (isValidName && isValidValue) {\r\n            this.customAttributes[attr] = value;\r\n            return;\r\n        }\r\n        // Throw appropriate error when the attribute name or value is invalid.\r\n        if (!isValidName) {\r\n            throw ERROR_FACTORY.create(\"invalid attribute name\" /* INVALID_ATTRIBUTE_NAME */, {\r\n                attributeName: attr\r\n            });\r\n        }\r\n        if (!isValidValue) {\r\n            throw ERROR_FACTORY.create(\"invalid attribute value\" /* INVALID_ATTRIBUTE_VALUE */, {\r\n                attributeValue: value\r\n            });\r\n        }\r\n    };\r\n    /**\r\n     * Retrieves the value a custom attribute of a trace is set to.\r\n     * @param attr\r\n     */\r\n    Trace.prototype.getAttribute = function (attr) {\r\n        return this.customAttributes[attr];\r\n    };\r\n    Trace.prototype.removeAttribute = function (attr) {\r\n        if (this.customAttributes[attr] === undefined) {\r\n            return;\r\n        }\r\n        delete this.customAttributes[attr];\r\n    };\r\n    Trace.prototype.getAttributes = function () {\r\n        return tslib.__assign({}, this.customAttributes);\r\n    };\r\n    Trace.prototype.setStartTime = function (startTime) {\r\n        this.startTimeUs = startTime;\r\n    };\r\n    Trace.prototype.setDuration = function (duration) {\r\n        this.durationUs = duration;\r\n    };\r\n    /**\r\n     * Calculates and assigns the duration and start time of the trace using the measure performance\r\n     * entry.\r\n     */\r\n    Trace.prototype.calculateTraceMetrics = function () {\r\n        var perfMeasureEntries = this.api.getEntriesByName(this.traceMeasure);\r\n        var perfMeasureEntry = perfMeasureEntries && perfMeasureEntries[0];\r\n        if (perfMeasureEntry) {\r\n            this.durationUs = Math.floor(perfMeasureEntry.duration * 1000);\r\n            this.startTimeUs = Math.floor((perfMeasureEntry.startTime + this.api.getTimeOrigin()) * 1000);\r\n        }\r\n    };\r\n    /**\r\n     * @param navigationTimings A single element array which contains the navigationTIming object of\r\n     * the page load\r\n     * @param paintTimings A array which contains paintTiming object of the page load\r\n     * @param firstInputDelay First input delay in millisec\r\n     */\r\n    Trace.createOobTrace = function (navigationTimings, paintTimings, firstInputDelay) {\r\n        var route = Api.getInstance().getUrl();\r\n        if (!route) {\r\n            return;\r\n        }\r\n        var trace = new Trace(OOB_TRACE_PAGE_LOAD_PREFIX + route, true);\r\n        var timeOriginUs = Math.floor(Api.getInstance().getTimeOrigin() * 1000);\r\n        trace.setStartTime(timeOriginUs);\r\n        // navigationTimings includes only one element.\r\n        if (navigationTimings && navigationTimings[0]) {\r\n            trace.setDuration(Math.floor(navigationTimings[0].duration * 1000));\r\n            trace.putMetric('domInteractive', Math.floor(navigationTimings[0].domInteractive * 1000));\r\n            trace.putMetric('domContentLoadedEventEnd', Math.floor(navigationTimings[0].domContentLoadedEventEnd * 1000));\r\n            trace.putMetric('loadEventEnd', Math.floor(navigationTimings[0].loadEventEnd * 1000));\r\n        }\r\n        var FIRST_PAINT = 'first-paint';\r\n        var FIRST_CONTENTFUL_PAINT = 'first-contentful-paint';\r\n        if (paintTimings) {\r\n            var firstPaint = paintTimings.find(function (paintObject) { return paintObject.name === FIRST_PAINT; });\r\n            if (firstPaint && firstPaint.startTime) {\r\n                trace.putMetric(FIRST_PAINT_COUNTER_NAME, Math.floor(firstPaint.startTime * 1000));\r\n            }\r\n            var firstContentfulPaint = paintTimings.find(function (paintObject) { return paintObject.name === FIRST_CONTENTFUL_PAINT; });\r\n            if (firstContentfulPaint && firstContentfulPaint.startTime) {\r\n                trace.putMetric(FIRST_CONTENTFUL_PAINT_COUNTER_NAME, Math.floor(firstContentfulPaint.startTime * 1000));\r\n            }\r\n            if (firstInputDelay) {\r\n                trace.putMetric(FIRST_INPUT_DELAY_COUNTER_NAME, Math.floor(firstInputDelay * 1000));\r\n            }\r\n        }\r\n        logTrace(trace);\r\n    };\r\n    Trace.createUserTimingTrace = function (measureName) {\r\n        var trace = new Trace(measureName, false, measureName);\r\n        logTrace(trace);\r\n    };\r\n    return Trace;\r\n}());\n\n/**\r\n * @license\r\n * Copyright 2019 Google LLC\r\n *\r\n * Licensed under the Apache License, Version 2.0 (the \"License\");\r\n * you may not use this file except in compliance with the License.\r\n * You may obtain a copy of the License at\r\n *\r\n *   http://www.apache.org/licenses/LICENSE-2.0\r\n *\r\n * Unless required by applicable law or agreed to in writing, software\r\n * distributed under the License is distributed on an \"AS IS\" BASIS,\r\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\r\n * See the License for the specific language governing permissions and\r\n * limitations under the License.\r\n */\r\nfunction createNetworkRequestEntry(entry) {\r\n    var performanceEntry = entry;\r\n    if (!performanceEntry || performanceEntry.responseStart === undefined) {\r\n        return;\r\n    }\r\n    var timeOrigin = Api.getInstance().getTimeOrigin();\r\n    var startTimeUs = Math.floor((performanceEntry.startTime + timeOrigin) * 1000);\r\n    var timeToResponseInitiatedUs = performanceEntry.responseStart\r\n        ? Math.floor((performanceEntry.responseStart - performanceEntry.startTime) * 1000)\r\n        : undefined;\r\n    var timeToResponseCompletedUs = Math.floor((performanceEntry.responseEnd - performanceEntry.startTime) * 1000);\r\n    // Remove the query params from logged network request url.\r\n    var url = performanceEntry.name && performanceEntry.name.split('?')[0];\r\n    var networkRequest = {\r\n        url: url,\r\n        responsePayloadBytes: performanceEntry.transferSize,\r\n        startTimeUs: startTimeUs,\r\n        timeToResponseInitiatedUs: timeToResponseInitiatedUs,\r\n        timeToResponseCompletedUs: timeToResponseCompletedUs\r\n    };\r\n    logNetworkRequest(networkRequest);\r\n}\n\n/**\r\n * @license\r\n * Copyright 2019 Google LLC\r\n *\r\n * Licensed under the Apache License, Version 2.0 (the \"License\");\r\n * you may not use this file except in compliance with the License.\r\n * You may obtain a copy of the License at\r\n *\r\n *   http://www.apache.org/licenses/LICENSE-2.0\r\n *\r\n * Unless required by applicable law or agreed to in writing, software\r\n * distributed under the License is distributed on an \"AS IS\" BASIS,\r\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\r\n * See the License for the specific language governing permissions and\r\n * limitations under the License.\r\n */\r\nvar FID_WAIT_TIME_MS = 5000;\r\nfunction setupOobResources() {\r\n    // Do not initialize unless iid is available.\r\n    if (!getIid()) {\r\n        return;\r\n    }\r\n    // The load event might not have fired yet, and that means performance navigation timing\r\n    // object has a duration of 0. The setup should run after all current tasks in js queue.\r\n    setTimeout(function () { return setupOobTraces(); }, 0);\r\n    setTimeout(function () { return setupNetworkRequests(); }, 0);\r\n    setTimeout(function () { return setupUserTimingTraces(); }, 0);\r\n}\r\nfunction setupNetworkRequests() {\r\n    var api = Api.getInstance();\r\n    var resources = api.getEntriesByType('resource');\r\n    for (var _i = 0, resources_1 = resources; _i < resources_1.length; _i++) {\r\n        var resource = resources_1[_i];\r\n        createNetworkRequestEntry(resource);\r\n    }\r\n    api.setupObserver('resource', createNetworkRequestEntry);\r\n}\r\nfunction setupOobTraces() {\r\n    var api = Api.getInstance();\r\n    var navigationTimings = api.getEntriesByType('navigation');\r\n    var paintTimings = api.getEntriesByType('paint');\r\n    // If First Input Desly polyfill is added to the page, report the fid value.\r\n    // https://github.com/GoogleChromeLabs/first-input-delay\r\n    if (api.onFirstInputDelay) {\r\n        // If the fid call back is not called for certain time, continue without it.\r\n        // eslint-disable-next-line @typescript-eslint/no-explicit-any\r\n        var timeoutId_1 = setTimeout(function () {\r\n            Trace.createOobTrace(navigationTimings, paintTimings);\r\n            timeoutId_1 = undefined;\r\n        }, FID_WAIT_TIME_MS);\r\n        api.onFirstInputDelay(function (fid) {\r\n            if (timeoutId_1) {\r\n                clearTimeout(timeoutId_1);\r\n                Trace.createOobTrace(navigationTimings, paintTimings, fid);\r\n            }\r\n        });\r\n    }\r\n    else {\r\n        Trace.createOobTrace(navigationTimings, paintTimings);\r\n    }\r\n}\r\nfunction setupUserTimingTraces() {\r\n    var api = Api.getInstance();\r\n    // Run through the measure performance entries collected up to this point.\r\n    var measures = api.getEntriesByType('measure');\r\n    for (var _i = 0, measures_1 = measures; _i < measures_1.length; _i++) {\r\n        var measure = measures_1[_i];\r\n        createUserTimingTrace(measure);\r\n    }\r\n    // Setup an observer to capture the measures from this point on.\r\n    api.setupObserver('measure', createUserTimingTrace);\r\n}\r\nfunction createUserTimingTrace(measure) {\r\n    var measureName = measure.name;\r\n    // Do not create a trace, if the user timing marks and measures are created by the sdk itself.\r\n    if (measureName.substring(0, TRACE_MEASURE_PREFIX.length) ===\r\n        TRACE_MEASURE_PREFIX) {\r\n        return;\r\n    }\r\n    Trace.createUserTimingTrace(measureName);\r\n}\n\n/**\r\n * @license\r\n * Copyright 2019 Google LLC\r\n *\r\n * Licensed under the Apache License, Version 2.0 (the \"License\");\r\n * you may not use this file except in compliance with the License.\r\n * You may obtain a copy of the License at\r\n *\r\n *   http://www.apache.org/licenses/LICENSE-2.0\r\n *\r\n * Unless required by applicable law or agreed to in writing, software\r\n * distributed under the License is distributed on an \"AS IS\" BASIS,\r\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\r\n * See the License for the specific language governing permissions and\r\n * limitations under the License.\r\n */\r\nvar PerformanceController = /** @class */ (function () {\r\n    function PerformanceController(app) {\r\n        this.app = app;\r\n        if (Api.getInstance().requiredApisAvailable()) {\r\n            util.validateIndexedDBOpenable()\r\n                .then(function (isAvailable) {\r\n                if (isAvailable) {\r\n                    setupTransportService();\r\n                    getInitializationPromise().then(setupOobResources, setupOobResources);\r\n                }\r\n            })\r\n                .catch(function (error) {\r\n                consoleLogger.info(\"Environment doesn't support IndexedDB: \" + error);\r\n            });\r\n        }\r\n    }\r\n    PerformanceController.prototype.trace = function (name) {\r\n        return new Trace(name);\r\n    };\r\n    Object.defineProperty(PerformanceController.prototype, \"instrumentationEnabled\", {\r\n        get: function () {\r\n            return SettingsService.getInstance().instrumentationEnabled;\r\n        },\r\n        set: function (val) {\r\n            SettingsService.getInstance().instrumentationEnabled = val;\r\n        },\r\n        enumerable: false,\r\n        configurable: true\r\n    });\r\n    Object.defineProperty(PerformanceController.prototype, \"dataCollectionEnabled\", {\r\n        get: function () {\r\n            return SettingsService.getInstance().dataCollectionEnabled;\r\n        },\r\n        set: function (val) {\r\n            SettingsService.getInstance().dataCollectionEnabled = val;\r\n        },\r\n        enumerable: false,\r\n        configurable: true\r\n    });\r\n    return PerformanceController;\r\n}());\n\n/**\r\n * @license\r\n * Copyright 2019 Google LLC\r\n *\r\n * Licensed under the Apache License, Version 2.0 (the \"License\");\r\n * you may not use this file except in compliance with the License.\r\n * You may obtain a copy of the License at\r\n *\r\n *   http://www.apache.org/licenses/LICENSE-2.0\r\n *\r\n * Unless required by applicable law or agreed to in writing, software\r\n * distributed under the License is distributed on an \"AS IS\" BASIS,\r\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\r\n * See the License for the specific language governing permissions and\r\n * limitations under the License.\r\n */\r\nvar DEFAULT_ENTRY_NAME = '[DEFAULT]';\r\nfunction registerPerformance(instance) {\r\n    var factoryMethod = function (app, installations) {\r\n        if (app.name !== DEFAULT_ENTRY_NAME) {\r\n            throw ERROR_FACTORY.create(\"FB not default\" /* FB_NOT_DEFAULT */);\r\n        }\r\n        if (typeof window === 'undefined') {\r\n            throw ERROR_FACTORY.create(\"no window\" /* NO_WINDOW */);\r\n        }\r\n        setupApi(window);\r\n        SettingsService.getInstance().firebaseAppInstance = app;\r\n        SettingsService.getInstance().installationsService = installations;\r\n        return new PerformanceController(app);\r\n    };\r\n    // Register performance with firebase-app.\r\n    instance.INTERNAL.registerComponent(new component.Component('performance', function (container) {\r\n        /* Dependencies */\r\n        // getImmediate for FirebaseApp will always succeed\r\n        var app = container.getProvider('app').getImmediate();\r\n        // The following call will always succeed because perf has `import '@firebase/installations'`\r\n        var installations = container\r\n            .getProvider('installations')\r\n            .getImmediate();\r\n        return factoryMethod(app, installations);\r\n    }, \"PUBLIC\" /* PUBLIC */));\r\n    instance.registerVersion(name, version);\r\n}\r\nregisterPerformance(firebase);\n\nexports.registerPerformance = registerPerformance;\n//# sourceMappingURL=index.cjs.js.map\n\n};"],
"names":["shadow$provide","global","require","module","exports","mergeStrings","part1","part2","sizeDiff","length","ERROR_FACTORY","create","resultArray","i","push","charAt","join","getIidPromise","iidPromise","SettingsService","getInstance","installationsService","getId","then","iidVal","iid","getAuthTokenPromise","authTokenPromise","getToken","authTokenVal","getVisibilityState","Api","document","visibilityState","VisibilityState","VISIBLE","HIDDEN","UNKNOWN","getEffectiveConnectionType","navigatorConnection","navigator","connection","effectiveType","isValidCustomAttributeName","name","MAX_ATTRIBUTE_NAME_LENGTH","RESERVED_ATTRIBUTE_PREFIXES","matchesReservedPrefix","some","prefix","startsWith","match","ATTRIBUTE_FORMAT_REGEX","getConfig","config","getStoredConfig","processConfig","Promise","resolve","getRemoteConfig","localStorage","setItem","CONFIG_LOCAL_STORAGE_KEY","JSON","stringify","CONFIG_EXPIRY_LOCAL_STORAGE_KEY","String","Date","now","configTimeToLive","expiryString","getItem","Number","configStringified","configResponse","parse","_a","authToken","configEndPoint","projectId","getProjectId","getApiKey","request","Request","method","headers","Authorization","body","app_instance_id","app_instance_id_token","app_id","getAppId","app_version","version","sdk_version","REMOTE_CONFIG_SDK_VERSION","fetch","response","ok","json","catch","consoleLogger","info","COULD_NOT_GET_CONFIG_MSG","settingsServiceInstance","entries","loggingEnabled","undefined","fpr_enabled","DEFAULT_CONFIGS","fpr_log_source","logSource","fpr_log_endpoint_url","logEndPointUrl","fpr_log_transport_key","transportKey","fpr_vc_network_request_sampling_rate","networkRequestsSamplingRate","fpr_vc_trace_sampling_rate","tracesSamplingRate","logTraceAfterSampling","Math","random","logNetworkAfterSampling","getInitializationPromise","initializationStatus","initializationPromise","initializePerf","getDocumentReadyComplete","readyState","handler_1","removeEventListener","addEventListener","processQueue","timeOffset","setTimeout","remainingTries","queue","DEFAULT_SEND_INTERVAL_MS","dispatchQueueEvents","staged","tslib","__spreadArrays","log_event","map","evt","source_extension_json_proto3","message","event_time_ms","eventTime","data","request_time_ms","client_info","client_type","js_client_info","log_source","sendEventsToFl","postToFlEndpoint","res","transportWait","nextRequestWaitMillis","requestOffset","isNaN","max","logResponseDetails","Array","isArray","responseAction","DEFAULT_REMAINING_TRIES","flTransportFullUrl","getFlTransportFullUrl","transportHandler","serializer","args","_i","arguments","apply","logTrace","trace","settingsService","instrumentationEnabled","isAuto","dataCollectionEnabled","requiredApisAvailable","sendTraceLog","logger","resourceType","logNetworkRequest","networkRequest","networkRequestUrl","url","logEndpointUrl","split","flEndpointUrl","flTransportEndpointUrl","resource","networkRequestMetric","http_method","httpMethod","http_response_code","response_payload_bytes","responsePayloadBytes","client_start_time_us","startTimeUs","time_to_response_initiated_us","timeToResponseInitiatedUs","time_to_response_completed_us","timeToResponseCompletedUs","perfMetric","application_info","getApplicationInfo","network_request_metric","traceMetric","is_auto","duration_us","durationUs","Object","keys","counters","customAttributes","getAttributes","custom_attributes","trace_metric","getUrl","google_app_id","web_app_info","page_url","service_worker_status","serviceWorker","controller","visibility_state","effective_connection_type","application_process_state","createNetworkRequestEntry","entry","responseStart","timeOrigin","getTimeOrigin","floor","startTime","responseEnd","transferSize","setupOobResources","setupOobTraces","api","resources_1","resources","getEntriesByType","setupObserver","measures_1","measures","createUserTimingTrace","measure","navigationTimings","paintTimings","onFirstInputDelay","timeoutId_1","Trace","createOobTrace","FID_WAIT_TIME_MS","fid","clearTimeout","measureName","TRACE_MEASURE_PREFIX","substring","registerPerformance","instance","INTERNAL","registerComponent","component","Component","container","app","getProvider","getImmediate","installations","DEFAULT_ENTRY_NAME","window","windowInstance","firebaseAppInstance","PerformanceController","registerVersion","defineProperty","value","firebase","_interopDefault","ex","util","logger$1","ERROR_DESCRIPTION_MAP","ErrorFactory","SERVICE","SERVICE_NAME","Logger","logLevel","LogLevel","INFO","apiInstance","performance","PerformanceObserver","windowLocation","location","cookieEnabled","perfMetrics","prototype","Api.prototype.getUrl","href","mark","Api.prototype.mark","Api.prototype.measure","mark1","mark2","Api.prototype.getEntriesByType","type","getEntriesByName","Api.prototype.getEntriesByName","Api.prototype.getTimeOrigin","timing","navigationStart","Api.prototype.requiredApisAvailable","isIndexedDBAvailable","Api.prototype.setupObserver","entryType","callback","observer","list","getEntries","observe","entryTypes","Api.getInstance","SettingsService.prototype.getAppId","appId","options","SettingsService.prototype.getProjectId","SettingsService.prototype.getApiKey","apiKey","SettingsService.prototype.getFlTransportFullUrl","concat","SettingsService.getInstance","isTransportSetup","oobMetrics","FIRST_PAINT_COUNTER_NAME","FIRST_CONTENTFUL_PAINT_COUNTER_NAME","FIRST_INPUT_DELAY_COUNTER_NAME","traceMeasureName","state","randomId","traceStartMark","traceStopMark","traceMeasure","calculateTraceMetrics","start","Trace.prototype.start","traceName","stop","Trace.prototype.stop","record","Trace.prototype.record","duration","attributes","__assign","metrics","metric","incrementMetric","Trace.prototype.incrementMetric","counter","numAsInteger","putMetric","Trace.prototype.putMetric","MAX_METRIC_NAME_LENGTH","OOB_TRACE_PAGE_LOAD_PREFIX","indexOf","RESERVED_AUTO_PREFIX","valueAsInteger","customMetricName","getMetric","Trace.prototype.getMetric","putAttribute","Trace.prototype.putAttribute","attr","isValidName","isValidValue","MAX_ATTRIBUTE_VALUE_LENGTH","attributeName","attributeValue","getAttribute","Trace.prototype.getAttribute","removeAttribute","Trace.prototype.removeAttribute","Trace.prototype.getAttributes","setStartTime","Trace.prototype.setStartTime","setDuration","Trace.prototype.setDuration","Trace.prototype.calculateTraceMetrics","perfMeasureEntries","perfMeasureEntry","Trace.createOobTrace","firstInputDelay","route","timeOriginUs","domInteractive","domContentLoadedEventEnd","loadEventEnd","firstPaint","find","paintObject","FIRST_PAINT","firstContentfulPaint","FIRST_CONTENTFUL_PAINT","Trace.createUserTimingTrace","validateIndexedDBOpenable","isAvailable","INITIAL_SEND_TIME_DELAY_MS","error","PerformanceController.prototype.trace","get","set","val","enumerable","configurable"]
}
