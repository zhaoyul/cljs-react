shadow$provide.module$node_modules$$firebase$remote_config$dist$index_cjs=function(global,require,module,exports){function getUserLanguage(navigatorLanguage){void 0===navigatorLanguage&&(navigatorLanguage=navigator);return navigatorLanguage.languages&&navigatorLanguage.languages[0]||navigatorLanguage.language}function getAllKeys(obj1,obj2){void 0===obj1&&(obj1={});void 0===obj2&&(obj2={});return Object.keys(tslib.__assign(tslib.__assign({},obj1),obj2))}function toFirebaseError(event,errorCode){event=
event.target.error||void 0;return ERROR_FACTORY.create(errorCode,{originalErrorMessage:event&&event.message})}function openDatabase(){return new Promise(function(resolve,reject){var request=indexedDB.open("firebase_remote_config",1);request.onerror=function(event){reject(toFirebaseError(event,"storage-open"))};request.onsuccess=function(event){resolve(event.target.result)};request.onupgradeneeded=function(event){var db=event.target.result;switch(event.oldVersion){case 0:db.createObjectStore("app_namespace_store",
{keyPath:"compositeKey"})}}})}function setAbortableTimeout(signal,throttleEndTimeMillis){return new Promise(function(resolve,reject){var backoffMillis=Math.max(throttleEndTimeMillis-Date.now(),0),timeout=setTimeout(resolve,backoffMillis);signal.addEventListener(function(){clearTimeout(timeout);reject(ERROR_FACTORY.create("fetch-throttle",{throttleEndTimeMillis:throttleEndTimeMillis}))})})}function registerRemoteConfig(firebaseInstance){firebaseInstance.INTERNAL.registerComponent((new component.Component("remoteConfig",
function(container,namespace){var app=container.getProvider("app").getImmediate(),installations=container.getProvider("installations").getImmediate();if("undefined"===typeof window)throw ERROR_FACTORY.create("registration-window");container=app.options;var projectId=container.projectId,apiKey=container.apiKey,appId=container.appId;if(!projectId)throw ERROR_FACTORY.create("registration-project-id");if(!apiKey)throw ERROR_FACTORY.create("registration-api-key");if(!appId)throw ERROR_FACTORY.create("registration-app-id");
namespace=namespace||"firebase";container=new Storage$jscomp$0(appId,app.name,namespace);var storageCache=new StorageCache(container),logger$1=new logger$jscomp$0.Logger("@firebase/remote-config");logger$1.logLevel=logger$jscomp$0.LogLevel.ERROR;namespace=new RestClient(installations,firebaseInstance.SDK_VERSION,namespace,projectId,apiKey,appId);namespace=new RetryingClient(namespace,container);namespace=new CachingClient(namespace,container,storageCache,logger$1);app=new RemoteConfig(app,namespace,
storageCache,container,logger$1);app.ensureInitialized();return app},"PUBLIC")).setMultipleInstances(!0));firebaseInstance.registerVersion("@firebase/remote-config","0.1.27")}Object.defineProperty(exports,"__esModule",{value:!0});global=function(ex){return ex&&"object"===typeof ex&&"default"in ex?ex["default"]:ex}(require("module$node_modules$$firebase$app$dist$index_cjs"));require("module$node_modules$$firebase$installations$dist$index_cjs");var tslib=require("module$node_modules$tslib$tslib"),util=
require("module$node_modules$$firebase$util$dist$index_cjs"),logger$jscomp$0=require("module$node_modules$$firebase$logger$dist$index_cjs"),component=require("module$node_modules$$firebase$component$dist$index_cjs"),CachingClient=function(){function CachingClient(client,storage,storageCache,logger){this.client=client;this.storage=storage;this.storageCache=storageCache;this.logger=logger}CachingClient.prototype.isCachedDataFresh=function(cacheMaxAgeMillis,lastSuccessfulFetchTimestampMillis){if(!lastSuccessfulFetchTimestampMillis)return this.logger.debug("Config fetch cache check. Cache unpopulated."),
!1;lastSuccessfulFetchTimestampMillis=Date.now()-lastSuccessfulFetchTimestampMillis;var isCachedDataFresh=lastSuccessfulFetchTimestampMillis<=cacheMaxAgeMillis;this.logger.debug("Config fetch cache check. Cache age millis: "+(lastSuccessfulFetchTimestampMillis+". Cache max age millis (minimumFetchIntervalMillis setting): ")+(cacheMaxAgeMillis+". Is cache hit: ")+(isCachedDataFresh+"."));return isCachedDataFresh};CachingClient.prototype.fetch=function(request){return tslib.__awaiter(this,void 0,void 0,
function(){var _a,lastSuccessfulFetchTimestampMillis,lastSuccessfulFetchResponse,response,storageOperations;return tslib.__generator(this,function(_b){switch(_b.label){case 0:return[4,Promise.all([this.storage.getLastSuccessfulFetchTimestampMillis(),this.storage.getLastSuccessfulFetchResponse()])];case 1:_a=_b.sent();lastSuccessfulFetchTimestampMillis=_a[0];if((lastSuccessfulFetchResponse=_a[1])&&this.isCachedDataFresh(request.cacheMaxAgeMillis,lastSuccessfulFetchTimestampMillis))return[2,lastSuccessfulFetchResponse];
request.eTag=lastSuccessfulFetchResponse&&lastSuccessfulFetchResponse.eTag;return[4,this.client.fetch(request)];case 2:return response=_b.sent(),storageOperations=[this.storageCache.setLastSuccessfulFetchTimestampMillis(Date.now())],200===response.status&&storageOperations.push(this.storage.setLastSuccessfulFetchResponse(response)),[4,Promise.all(storageOperations)];case 3:return _b.sent(),[2,response]}})})};return CachingClient}(),_a$jscomp$1;require=(_a$jscomp$1={},_a$jscomp$1["registration-window"]=
"Undefined window object. This SDK only supports usage in a browser environment.",_a$jscomp$1["registration-project-id"]="Undefined project identifier. Check Firebase app initialization.",_a$jscomp$1["registration-api-key"]="Undefined API key. Check Firebase app initialization.",_a$jscomp$1["registration-app-id"]="Undefined app identifier. Check Firebase app initialization.",_a$jscomp$1["storage-open"]="Error thrown when opening storage. Original error: {$originalErrorMessage}.",_a$jscomp$1["storage-get"]=
"Error thrown when reading from storage. Original error: {$originalErrorMessage}.",_a$jscomp$1["storage-set"]="Error thrown when writing to storage. Original error: {$originalErrorMessage}.",_a$jscomp$1["storage-delete"]="Error thrown when deleting from storage. Original error: {$originalErrorMessage}.",_a$jscomp$1["fetch-client-network"]="Fetch client failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.",_a$jscomp$1["fetch-timeout"]='The config fetch request timed out.  Configure timeout using "fetchTimeoutMillis" SDK setting.',
_a$jscomp$1["fetch-throttle"]='The config fetch request timed out while in an exponential backoff state. Configure timeout using "fetchTimeoutMillis" SDK setting. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.',_a$jscomp$1["fetch-client-parse"]="Fetch client could not parse response. Original error: {$originalErrorMessage}.",_a$jscomp$1["fetch-status"]="Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.",_a$jscomp$1);var ERROR_FACTORY=
new util.ErrorFactory("remoteconfig","Remote Config",require),RestClient=function(){function RestClient(firebaseInstallations,sdkVersion,namespace,projectId,apiKey,appId){this.firebaseInstallations=firebaseInstallations;this.sdkVersion=sdkVersion;this.namespace=namespace;this.projectId=projectId;this.apiKey=apiKey;this.appId=appId}RestClient.prototype.fetch=function(request){return tslib.__awaiter(this,void 0,void 0,function(){var _a,installationId,installationToken,urlBase,url,headers,requestBody,
options,fetchPromise,timeoutPromise,response,originalError_1,errorCode,status,responseEtag,config,state,responseBody,originalError_2;return tslib.__generator(this,function(_b){switch(_b.label){case 0:return[4,Promise.all([this.firebaseInstallations.getId(),this.firebaseInstallations.getToken()])];case 1:_a=_b.sent(),installationId=_a[0],installationToken=_a[1],urlBase=window.FIREBASE_REMOTE_CONFIG_URL_BASE||"https://firebaseremoteconfig.googleapis.com",url=urlBase+"/v1/projects/"+this.projectId+"/namespaces/"+
this.namespace+":fetch?key\x3d"+this.apiKey,headers={"Content-Type":"application/json","Content-Encoding":"gzip","If-None-Match":request.eTag||"*"},requestBody={sdk_version:this.sdkVersion,app_instance_id:installationId,app_instance_id_token:installationToken,app_id:this.appId,language_code:getUserLanguage()},options={method:"POST",headers:headers,body:JSON.stringify(requestBody)},fetchPromise=fetch(url,options),timeoutPromise=new Promise(function(_resolve,reject){request.signal.addEventListener(function(){var error=
Error("The operation was aborted.");error.name="AbortError";reject(error)})}),_b.label=2;case 2:return _b.trys.push([2,5,,6]),[4,Promise.race([fetchPromise,timeoutPromise])];case 3:return _b.sent(),[4,fetchPromise];case 4:return response=_b.sent(),[3,6];case 5:throw originalError_1=_b.sent(),errorCode="fetch-client-network","AbortError"===originalError_1.name&&(errorCode="fetch-timeout"),ERROR_FACTORY.create(errorCode,{originalErrorMessage:originalError_1.message});case 6:status=response.status;responseEtag=
response.headers.get("ETag")||void 0;if(200!==response.status)return[3,11];responseBody=void 0;_b.label=7;case 7:return _b.trys.push([7,9,,10]),[4,response.json()];case 8:return responseBody=_b.sent(),[3,10];case 9:throw originalError_2=_b.sent(),ERROR_FACTORY.create("fetch-client-parse",{originalErrorMessage:originalError_2.message});case 10:config=responseBody.entries,state=responseBody.state,_b.label=11;case 11:if("INSTANCE_STATE_UNSPECIFIED"===state)status=500;else if("NO_CHANGE"===state)status=
304;else if("NO_TEMPLATE"===state||"EMPTY_CONFIG"===state)config={};if(304!==status&&200!==status)throw ERROR_FACTORY.create("fetch-status",{httpStatus:status});return[2,{status:status,eTag:responseEtag,config:config}]}})})};return RestClient}(),RemoteConfigAbortSignal=function(){function RemoteConfigAbortSignal(){this.listeners=[]}RemoteConfigAbortSignal.prototype.addEventListener=function(listener){this.listeners.push(listener)};RemoteConfigAbortSignal.prototype.abort=function(){this.listeners.forEach(function(listener){return listener()})};
return RemoteConfigAbortSignal}(),BOOLEAN_TRUTHY_VALUES="1 true t yes y on".split(" "),Value=function(){function Value(_source,_value){void 0===_value&&(_value="");this._source=_source;this._value=_value}Value.prototype.asString=function(){return this._value};Value.prototype.asBoolean=function(){return"static"===this._source?!1:0<=BOOLEAN_TRUTHY_VALUES.indexOf(this._value.toLowerCase())};Value.prototype.asNumber=function(){if("static"===this._source)return 0;var num=Number(this._value);isNaN(num)&&
(num=0);return num};Value.prototype.getSource=function(){return this._source};return Value}(),RemoteConfig=function(){function RemoteConfig(app,_client,_storageCache,_storage,_logger){this.app=app;this._client=_client;this._storageCache=_storageCache;this._storage=_storage;this._logger=_logger;this._isInitializationComplete=!1;this.settings={fetchTimeoutMillis:6E4,minimumFetchIntervalMillis:432E5};this.defaultConfig={}}RemoteConfig.prototype.setLogLevel=function(logLevel){switch(logLevel){case "debug":this._logger.logLevel=
logger$jscomp$0.LogLevel.DEBUG;break;case "silent":this._logger.logLevel=logger$jscomp$0.LogLevel.SILENT;break;default:this._logger.logLevel=logger$jscomp$0.LogLevel.ERROR}};Object.defineProperty(RemoteConfig.prototype,"fetchTimeMillis",{get:function(){return this._storageCache.getLastSuccessfulFetchTimestampMillis()||-1},enumerable:!1,configurable:!0});Object.defineProperty(RemoteConfig.prototype,"lastFetchStatus",{get:function(){return this._storageCache.getLastFetchStatus()||"no-fetch-yet"},enumerable:!1,
configurable:!0});RemoteConfig.prototype.activate=function(){return tslib.__awaiter(this,void 0,void 0,function(){var _a,lastSuccessfulFetchResponse,activeConfigEtag;return tslib.__generator(this,function(_b){switch(_b.label){case 0:return[4,Promise.all([this._storage.getLastSuccessfulFetchResponse(),this._storage.getActiveConfigEtag()])];case 1:return _a=_b.sent(),lastSuccessfulFetchResponse=_a[0],activeConfigEtag=_a[1],lastSuccessfulFetchResponse&&lastSuccessfulFetchResponse.config&&lastSuccessfulFetchResponse.eTag&&
lastSuccessfulFetchResponse.eTag!==activeConfigEtag?[4,Promise.all([this._storageCache.setActiveConfig(lastSuccessfulFetchResponse.config),this._storage.setActiveConfigEtag(lastSuccessfulFetchResponse.eTag)])]:[2,!1];case 2:return _b.sent(),[2,!0]}})})};RemoteConfig.prototype.ensureInitialized=function(){var _this=this;this._initializePromise||(this._initializePromise=this._storageCache.loadFromStorage().then(function(){_this._isInitializationComplete=!0}));return this._initializePromise};RemoteConfig.prototype.fetch=
function(){return tslib.__awaiter(this,void 0,void 0,function(){var abortSignal,e_1,lastFetchStatus,_this=this;return tslib.__generator(this,function(_a$jscomp$0){switch(_a$jscomp$0.label){case 0:abortSignal=new RemoteConfigAbortSignal,setTimeout(function(){return tslib.__awaiter(_this,void 0,void 0,function(){return tslib.__generator(this,function(_a){abortSignal.abort();return[2]})})},this.settings.fetchTimeoutMillis),_a$jscomp$0.label=1;case 1:return _a$jscomp$0.trys.push([1,4,,6]),[4,this._client.fetch({cacheMaxAgeMillis:this.settings.minimumFetchIntervalMillis,
signal:abortSignal})];case 2:return _a$jscomp$0.sent(),[4,this._storageCache.setLastFetchStatus("success")];case 3:return _a$jscomp$0.sent(),[3,6];case 4:return e_1=_a$jscomp$0.sent(),lastFetchStatus=e_1 instanceof util.FirebaseError&&-1!==e_1.code.indexOf("fetch-throttle")?"throttle":"failure",[4,this._storageCache.setLastFetchStatus(lastFetchStatus)];case 5:throw _a$jscomp$0.sent(),e_1;case 6:return[2]}})})};RemoteConfig.prototype.fetchAndActivate=function(){return tslib.__awaiter(this,void 0,void 0,
function(){return tslib.__generator(this,function(_a){switch(_a.label){case 0:return[4,this.fetch()];case 1:return _a.sent(),[2,this.activate()]}})})};RemoteConfig.prototype.getAll=function(){var _this=this;return getAllKeys(this._storageCache.getActiveConfig(),this.defaultConfig).reduce(function(allConfigs,key){allConfigs[key]=_this.getValue(key);return allConfigs},{})};RemoteConfig.prototype.getBoolean=function(key){return this.getValue(key).asBoolean()};RemoteConfig.prototype.getNumber=function(key){return this.getValue(key).asNumber()};
RemoteConfig.prototype.getString=function(key){return this.getValue(key).asString()};RemoteConfig.prototype.getValue=function(key){this._isInitializationComplete||this._logger.debug('A value was requested for key "'+key+'" before SDK initialization completed. Await on ensureInitialized if the intent was to get a previously activated value.');var activeConfig=this._storageCache.getActiveConfig();if(activeConfig&&void 0!==activeConfig[key])return new Value("remote",activeConfig[key]);if(this.defaultConfig&&
void 0!==this.defaultConfig[key])return new Value("default",String(this.defaultConfig[key]));this._logger.debug('Returning static value for key "'+key+'". Define a default or remote value if this is unintentional.');return new Value("static")};return RemoteConfig}(),Storage$jscomp$0=function(){function Storage(appId,appName,namespace,openDbPromise){void 0===openDbPromise&&(openDbPromise=openDatabase());this.appId=appId;this.appName=appName;this.namespace=namespace;this.openDbPromise=openDbPromise}
Storage.prototype.getLastFetchStatus=function(){return this.get("last_fetch_status")};Storage.prototype.setLastFetchStatus=function(status){return this.set("last_fetch_status",status)};Storage.prototype.getLastSuccessfulFetchTimestampMillis=function(){return this.get("last_successful_fetch_timestamp_millis")};Storage.prototype.setLastSuccessfulFetchTimestampMillis=function(timestamp){return this.set("last_successful_fetch_timestamp_millis",timestamp)};Storage.prototype.getLastSuccessfulFetchResponse=
function(){return this.get("last_successful_fetch_response")};Storage.prototype.setLastSuccessfulFetchResponse=function(response){return this.set("last_successful_fetch_response",response)};Storage.prototype.getActiveConfig=function(){return this.get("active_config")};Storage.prototype.setActiveConfig=function(config){return this.set("active_config",config)};Storage.prototype.getActiveConfigEtag=function(){return this.get("active_config_etag")};Storage.prototype.setActiveConfigEtag=function(etag){return this.set("active_config_etag",
etag)};Storage.prototype.getThrottleMetadata=function(){return this.get("throttle_metadata")};Storage.prototype.setThrottleMetadata=function(metadata){return this.set("throttle_metadata",metadata)};Storage.prototype.deleteThrottleMetadata=function(){return this.delete("throttle_metadata")};Storage.prototype.get=function(key){return tslib.__awaiter(this,void 0,void 0,function(){var db,_this=this;return tslib.__generator(this,function(_a){switch(_a.label){case 0:return[4,this.openDbPromise];case 1:return db=
_a.sent(),[2,new Promise(function(resolve,reject){var objectStore=db.transaction(["app_namespace_store"],"readonly").objectStore("app_namespace_store"),compositeKey=_this.createCompositeKey(key);try{var request=objectStore.get(compositeKey);request.onerror=function(event){reject(toFirebaseError(event,"storage-get"))};request.onsuccess=function(event){(event=event.target.result)?resolve(event.value):resolve(void 0)}}catch(e){reject(ERROR_FACTORY.create("storage-get",{originalErrorMessage:e&&e.message}))}})]}})})};
Storage.prototype.set=function(key,value){return tslib.__awaiter(this,void 0,void 0,function(){var db,_this=this;return tslib.__generator(this,function(_a){switch(_a.label){case 0:return[4,this.openDbPromise];case 1:return db=_a.sent(),[2,new Promise(function(resolve,reject){var objectStore=db.transaction(["app_namespace_store"],"readwrite").objectStore("app_namespace_store"),compositeKey=_this.createCompositeKey(key);try{var request=objectStore.put({compositeKey:compositeKey,value:value});request.onerror=
function(event){reject(toFirebaseError(event,"storage-set"))};request.onsuccess=function(){resolve()}}catch(e){reject(ERROR_FACTORY.create("storage-set",{originalErrorMessage:e&&e.message}))}})]}})})};Storage.prototype.delete=function(key){return tslib.__awaiter(this,void 0,void 0,function(){var db,_this=this;return tslib.__generator(this,function(_a){switch(_a.label){case 0:return[4,this.openDbPromise];case 1:return db=_a.sent(),[2,new Promise(function(resolve,reject){var objectStore=db.transaction(["app_namespace_store"],
"readwrite").objectStore("app_namespace_store"),compositeKey=_this.createCompositeKey(key);try{var request=objectStore.delete(compositeKey);request.onerror=function(event){reject(toFirebaseError(event,"storage-delete"))};request.onsuccess=function(){resolve()}}catch(e){reject(ERROR_FACTORY.create("storage-delete",{originalErrorMessage:e&&e.message}))}})]}})})};Storage.prototype.createCompositeKey=function(key){return[this.appId,this.appName,this.namespace,key].join()};return Storage}(),StorageCache=
function(){function StorageCache(storage){this.storage=storage}StorageCache.prototype.getLastFetchStatus=function(){return this.lastFetchStatus};StorageCache.prototype.getLastSuccessfulFetchTimestampMillis=function(){return this.lastSuccessfulFetchTimestampMillis};StorageCache.prototype.getActiveConfig=function(){return this.activeConfig};StorageCache.prototype.loadFromStorage=function(){return tslib.__awaiter(this,void 0,void 0,function(){var lastFetchStatusPromise,lastSuccessfulFetchTimestampMillisPromise,
activeConfigPromise,lastFetchStatus,lastSuccessfulFetchTimestampMillis,activeConfig;return tslib.__generator(this,function(_a){switch(_a.label){case 0:return lastFetchStatusPromise=this.storage.getLastFetchStatus(),lastSuccessfulFetchTimestampMillisPromise=this.storage.getLastSuccessfulFetchTimestampMillis(),activeConfigPromise=this.storage.getActiveConfig(),[4,lastFetchStatusPromise];case 1:if(lastFetchStatus=_a.sent())this.lastFetchStatus=lastFetchStatus;return[4,lastSuccessfulFetchTimestampMillisPromise];
case 2:if(lastSuccessfulFetchTimestampMillis=_a.sent())this.lastSuccessfulFetchTimestampMillis=lastSuccessfulFetchTimestampMillis;return[4,activeConfigPromise];case 3:if(activeConfig=_a.sent())this.activeConfig=activeConfig;return[2]}})})};StorageCache.prototype.setLastFetchStatus=function(status){this.lastFetchStatus=status;return this.storage.setLastFetchStatus(status)};StorageCache.prototype.setLastSuccessfulFetchTimestampMillis=function(timestampMillis){this.lastSuccessfulFetchTimestampMillis=
timestampMillis;return this.storage.setLastSuccessfulFetchTimestampMillis(timestampMillis)};StorageCache.prototype.setActiveConfig=function(activeConfig){this.activeConfig=activeConfig;return this.storage.setActiveConfig(activeConfig)};return StorageCache}(),RetryingClient=function(){function RetryingClient(client,storage){this.client=client;this.storage=storage}RetryingClient.prototype.fetch=function(request){return tslib.__awaiter(this,void 0,void 0,function(){var throttleMetadata;return tslib.__generator(this,
function(_a){switch(_a.label){case 0:return[4,this.storage.getThrottleMetadata()];case 1:return throttleMetadata=_a.sent()||{backoffCount:0,throttleEndTimeMillis:Date.now()},[2,this.attemptFetch(request,throttleMetadata)]}})})};RetryingClient.prototype.attemptFetch=function(request,_a){var throttleEndTimeMillis=_a.throttleEndTimeMillis,backoffCount=_a.backoffCount;return tslib.__awaiter(this,void 0,void 0,function(){var response,e_1,throttleMetadata;return tslib.__generator(this,function(_b){switch(_b.label){case 0:return[4,
setAbortableTimeout(request.signal,throttleEndTimeMillis)];case 1:_b.sent(),_b.label=2;case 2:return _b.trys.push([2,5,,7]),[4,this.client.fetch(request)];case 3:return response=_b.sent(),[4,this.storage.deleteThrottleMetadata()];case 4:return _b.sent(),[2,response];case 5:e_1=_b.sent();e_1 instanceof util.FirebaseError?(_b=Number(e_1.httpStatus),_b=429===_b||500===_b||503===_b||504===_b):_b=!1;if(!_b)throw e_1;_b=Date.now();var currBaseValue=1E3*Math.pow(2,backoffCount);throttleMetadata={throttleEndTimeMillis:_b+
Math.min(144E5,currBaseValue+Math.round(.5*currBaseValue*(Math.random()-.5)*2)),backoffCount:backoffCount+1};return[4,this.storage.setThrottleMetadata(throttleMetadata)];case 6:return _b.sent(),[2,this.attemptFetch(request,throttleMetadata)];case 7:return[2]}})})};return RetryingClient}();registerRemoteConfig(global);exports.registerRemoteConfig=registerRemoteConfig}
//# sourceMappingURL=module$node_modules$$firebase$remote_config$dist$index_cjs.js.map
